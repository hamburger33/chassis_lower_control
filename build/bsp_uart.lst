ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"bsp_uart.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.BSP_UART_Init,"ax",%progbits
  20              		.align	1
  21              		.global	BSP_UART_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	BSP_UART_Init:
  27              	.LFB133:
  28              		.file 1 "Core/BSP/interface/bsp_uart.c"
   1:Core/BSP/interface/bsp_uart.c **** #include "bsp_uart.h"
   2:Core/BSP/interface/bsp_uart.c **** 
   3:Core/BSP/interface/bsp_uart.c **** #include "bsp_def.h"
   4:Core/BSP/interface/bsp_uart.c **** #include "bsp_log.h"
   5:Core/BSP/interface/bsp_uart.c **** #include "circular_queue.h"
   6:Core/BSP/interface/bsp_uart.c **** #include "cvector.h"
   7:Core/BSP/interface/bsp_uart.c **** #define MAX_SEND_PACK 10
   8:Core/BSP/interface/bsp_uart.c **** 
   9:Core/BSP/interface/bsp_uart.c **** typedef struct BSP_UART_Send_Pack_t {
  10:Core/BSP/interface/bsp_uart.c ****     uint8_t len;
  11:Core/BSP/interface/bsp_uart.c ****     uint8_t buffer[MAX_SEND_DATA_LEN];
  12:Core/BSP/interface/bsp_uart.c **** } BSP_UART_Send_Pack;
  13:Core/BSP/interface/bsp_uart.c **** 
  14:Core/BSP/interface/bsp_uart.c **** typedef struct BSP_UART_Typedef_t {
  15:Core/BSP/interface/bsp_uart.c ****     UART_HandleTypeDef *port;  //Ëá™ÂÆö‰πâuartÁºñÂè∑
  16:Core/BSP/interface/bsp_uart.c ****     cvector *call_backs;
  17:Core/BSP/interface/bsp_uart.c ****     circular_queue *send_packs;               //ÁºìÂÜ≤Ê®°ÂºèÂèëÈÄÅ
  18:Core/BSP/interface/bsp_uart.c ****     uint8_t queue_send_enable;                //‰ΩøËÉΩÈòüÂàóÁºìÂÜ≤DMAÂèëÈÄÅ
  19:Core/BSP/interface/bsp_uart.c ****     uint8_t rx_buff[BSP_UART_DMA_BUFF_SIZE];  // DMAÊé•Êî∂Êï∞ÁªÑÔºå‰∏∫‰∫ÜÂ≠òÊîæDMAÊê¨ËøêÁöÑ‰∏≤Âè£Êï
  20:Core/BSP/interface/bsp_uart.c **** } BSP_UART_Typedef;
  21:Core/BSP/interface/bsp_uart.c **** 
  22:Core/BSP/interface/bsp_uart.c **** BSP_UART_Typedef uart_ports[DEVICE_UART_CNT];
  23:Core/BSP/interface/bsp_uart.c **** 
  24:Core/BSP/interface/bsp_uart.c **** void BSP_UART_Init() {
  29              		.loc 1 24 22 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  34              	.LCFI0:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 2


  35              		.cfi_def_cfa_offset 24
  36              		.cfi_offset 3, -24
  37              		.cfi_offset 4, -20
  38              		.cfi_offset 5, -16
  39              		.cfi_offset 6, -12
  40              		.cfi_offset 7, -8
  41              		.cfi_offset 14, -4
  25:Core/BSP/interface/bsp_uart.c ****     uart_ports[0].port = UART_0_PORT;
  42              		.loc 1 25 5 view .LVU1
  43              		.loc 1 25 24 is_stmt 0 view .LVU2
  44 0002 204B     		ldr	r3, .L5
  45 0004 204A     		ldr	r2, .L5+4
  46 0006 1A60     		str	r2, [r3]
  26:Core/BSP/interface/bsp_uart.c ****     uart_ports[1].port = UART_1_PORT;
  47              		.loc 1 26 5 is_stmt 1 view .LVU3
  48              		.loc 1 26 24 is_stmt 0 view .LVU4
  49 0008 204A     		ldr	r2, .L5+8
  50 000a C3F80C21 		str	r2, [r3, #268]
  27:Core/BSP/interface/bsp_uart.c ****     uart_ports[0].queue_send_enable = 0;
  51              		.loc 1 27 5 is_stmt 1 view .LVU5
  52              		.loc 1 27 37 is_stmt 0 view .LVU6
  53 000e 0026     		movs	r6, #0
  54 0010 1E73     		strb	r6, [r3, #12]
  28:Core/BSP/interface/bsp_uart.c ****     uart_ports[1].queue_send_enable = 0;
  55              		.loc 1 28 5 is_stmt 1 view .LVU7
  56              		.loc 1 28 37 is_stmt 0 view .LVU8
  57 0012 83F81861 		strb	r6, [r3, #280]
  29:Core/BSP/interface/bsp_uart.c **** 
  30:Core/BSP/interface/bsp_uart.c ****     for (size_t i = 0; i < DEVICE_UART_CNT; ++i) {
  58              		.loc 1 30 5 is_stmt 1 view .LVU9
  59              	.LBB2:
  60              		.loc 1 30 10 view .LVU10
  61              	.LVL0:
  62              		.loc 1 30 5 is_stmt 0 view .LVU11
  63 0016 31E0     		b	.L2
  64              	.LVL1:
  65              	.L3:
  31:Core/BSP/interface/bsp_uart.c ****         uart_ports[i].call_backs = cvector_create(sizeof(uart_rx_callback));
  66              		.loc 1 31 9 is_stmt 1 discriminator 3 view .LVU12
  67              		.loc 1 31 36 is_stmt 0 discriminator 3 view .LVU13
  68 0018 0420     		movs	r0, #4
  69 001a FFF7FEFF 		bl	cvector_create
  70              	.LVL2:
  71              		.loc 1 31 34 discriminator 3 view .LVU14
  72 001e 194D     		ldr	r5, .L5
  73 0020 4FF48674 		mov	r4, #268
  74 0024 06FB04F4 		mul	r4, r6, r4
  75 0028 2F19     		adds	r7, r5, r4
  76 002a 7860     		str	r0, [r7, #4]
  32:Core/BSP/interface/bsp_uart.c ****         uart_ports[i].send_packs = create_circular_queue(sizeof(BSP_UART_Send_Pack), MAX_SEND_PACK)
  77              		.loc 1 32 9 is_stmt 1 discriminator 3 view .LVU15
  78              		.loc 1 32 36 is_stmt 0 discriminator 3 view .LVU16
  79 002c 0A21     		movs	r1, #10
  80 002e 40F20110 		movw	r0, #257
  81 0032 FFF7FEFF 		bl	create_circular_queue
  82              	.LVL3:
  83              		.loc 1 32 34 discriminator 3 view .LVU17
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 3


  84 0036 B860     		str	r0, [r7, #8]
  33:Core/BSP/interface/bsp_uart.c ****         // HALÂ∫ìÁöÑBUGÂ§ÑÁêÜÔºåÂØπ‰∫éDMAÈúÄË¶ÅÂÖàDeInitÂÜçInitÔºå‰∏çÁÑ∂GG
  34:Core/BSP/interface/bsp_uart.c ****         HAL_DMA_DeInit(uart_ports[i].port->hdmatx);
  85              		.loc 1 34 9 is_stmt 1 discriminator 3 view .LVU18
  86              		.loc 1 34 37 is_stmt 0 discriminator 3 view .LVU19
  87 0038 2B59     		ldr	r3, [r5, r4]
  88              		.loc 1 34 9 discriminator 3 view .LVU20
  89 003a 586B     		ldr	r0, [r3, #52]
  90 003c FFF7FEFF 		bl	HAL_DMA_DeInit
  91              	.LVL4:
  35:Core/BSP/interface/bsp_uart.c ****         HAL_DMA_DeInit(uart_ports[i].port->hdmarx);
  92              		.loc 1 35 9 is_stmt 1 discriminator 3 view .LVU21
  93              		.loc 1 35 37 is_stmt 0 discriminator 3 view .LVU22
  94 0040 2B59     		ldr	r3, [r5, r4]
  95              		.loc 1 35 9 discriminator 3 view .LVU23
  96 0042 986B     		ldr	r0, [r3, #56]
  97 0044 FFF7FEFF 		bl	HAL_DMA_DeInit
  98              	.LVL5:
  36:Core/BSP/interface/bsp_uart.c ****         HAL_DMA_Init(uart_ports[i].port->hdmatx);
  99              		.loc 1 36 9 is_stmt 1 discriminator 3 view .LVU24
 100              		.loc 1 36 35 is_stmt 0 discriminator 3 view .LVU25
 101 0048 2B59     		ldr	r3, [r5, r4]
 102              		.loc 1 36 9 discriminator 3 view .LVU26
 103 004a 586B     		ldr	r0, [r3, #52]
 104 004c FFF7FEFF 		bl	HAL_DMA_Init
 105              	.LVL6:
  37:Core/BSP/interface/bsp_uart.c ****         HAL_DMA_Init(uart_ports[i].port->hdmarx);
 106              		.loc 1 37 9 is_stmt 1 discriminator 3 view .LVU27
 107              		.loc 1 37 35 is_stmt 0 discriminator 3 view .LVU28
 108 0050 2B59     		ldr	r3, [r5, r4]
 109              		.loc 1 37 9 discriminator 3 view .LVU29
 110 0052 986B     		ldr	r0, [r3, #56]
 111 0054 FFF7FEFF 		bl	HAL_DMA_Init
 112              	.LVL7:
  38:Core/BSP/interface/bsp_uart.c ****         HAL_UART_DMAStop(uart_ports[i].port);
 113              		.loc 1 38 9 is_stmt 1 discriminator 3 view .LVU30
 114 0058 2859     		ldr	r0, [r5, r4]
 115 005a FFF7FEFF 		bl	HAL_UART_DMAStop
 116              	.LVL8:
  39:Core/BSP/interface/bsp_uart.c ****         //‰ΩøËÉΩ‰∏≤Âè£Á©∫Èó≤‰∏≠Êñ≠
  40:Core/BSP/interface/bsp_uart.c ****         __HAL_UART_ENABLE_IT(uart_ports[i].port, UART_IT_IDLE);  //‰ΩøËÉΩ‰∏≤Âè£Á©∫Èó≤‰∏≠Êñ≠
 117              		.loc 1 40 9 discriminator 3 view .LVU31
 118 005e 2B59     		ldr	r3, [r5, r4]
 119 0060 1A68     		ldr	r2, [r3]
 120 0062 D368     		ldr	r3, [r2, #12]
 121 0064 43F01003 		orr	r3, r3, #16
 122 0068 D360     		str	r3, [r2, #12]
  41:Core/BSP/interface/bsp_uart.c ****         //ÂºÄÂêØDMAÊé•Êî∂
  42:Core/BSP/interface/bsp_uart.c ****         HAL_UART_Receive_DMA(uart_ports[i].port, uart_ports[i].rx_buff, BSP_UART_DMA_BUFF_SIZE);
 123              		.loc 1 42 9 discriminator 3 view .LVU32
 124              		.loc 1 42 63 is_stmt 0 discriminator 3 view .LVU33
 125 006a 04F10801 		add	r1, r4, #8
 126 006e 2944     		add	r1, r1, r5
 127              		.loc 1 42 9 discriminator 3 view .LVU34
 128 0070 FF22     		movs	r2, #255
 129 0072 0531     		adds	r1, r1, #5
 130 0074 2859     		ldr	r0, [r5, r4]
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 4


 131 0076 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 132              	.LVL9:
  30:Core/BSP/interface/bsp_uart.c ****         uart_ports[i].call_backs = cvector_create(sizeof(uart_rx_callback));
 133              		.loc 1 30 45 is_stmt 1 discriminator 3 view .LVU35
 134 007a 0136     		adds	r6, r6, #1
 135              	.LVL10:
 136              	.L2:
  30:Core/BSP/interface/bsp_uart.c ****         uart_ports[i].call_backs = cvector_create(sizeof(uart_rx_callback));
 137              		.loc 1 30 24 discriminator 1 view .LVU36
  30:Core/BSP/interface/bsp_uart.c ****         uart_ports[i].call_backs = cvector_create(sizeof(uart_rx_callback));
 138              		.loc 1 30 5 is_stmt 0 discriminator 1 view .LVU37
 139 007c 012E     		cmp	r6, #1
 140 007e CBD9     		bls	.L3
 141              	.LBE2:
  43:Core/BSP/interface/bsp_uart.c ****     }
  44:Core/BSP/interface/bsp_uart.c **** }
 142              		.loc 1 44 1 view .LVU38
 143 0080 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 144              	.LVL11:
 145              	.L6:
 146              		.loc 1 44 1 view .LVU39
 147 0082 00BF     		.align	2
 148              	.L5:
 149 0084 00000000 		.word	.LANCHOR0
 150 0088 00000000 		.word	huart3
 151 008c 00000000 		.word	huart6
 152              		.cfi_endproc
 153              	.LFE133:
 155              		.section	.text.BSP_UART_RegisterRxCallback,"ax",%progbits
 156              		.align	1
 157              		.global	BSP_UART_RegisterRxCallback
 158              		.syntax unified
 159              		.thumb
 160              		.thumb_func
 162              	BSP_UART_RegisterRxCallback:
 163              	.LVL12:
 164              	.LFB134:
  45:Core/BSP/interface/bsp_uart.c **** 
  46:Core/BSP/interface/bsp_uart.c **** // Ê≥®ÂÜåÂõûË∞ÉÂáΩÊï∞
  47:Core/BSP/interface/bsp_uart.c **** void BSP_UART_RegisterRxCallback(uint8_t uart_index, uart_rx_callback func) { cvector_pushback(uart
 165              		.loc 1 47 77 is_stmt 1 view -0
 166              		.cfi_startproc
 167              		@ args = 0, pretend = 0, frame = 8
 168              		@ frame_needed = 0, uses_anonymous_args = 0
 169              		.loc 1 47 77 is_stmt 0 view .LVU41
 170 0000 00B5     		push	{lr}
 171              	.LCFI1:
 172              		.cfi_def_cfa_offset 4
 173              		.cfi_offset 14, -4
 174 0002 83B0     		sub	sp, sp, #12
 175              	.LCFI2:
 176              		.cfi_def_cfa_offset 16
 177 0004 0191     		str	r1, [sp, #4]
 178              		.loc 1 47 79 is_stmt 1 view .LVU42
 179 0006 064B     		ldr	r3, .L9
 180 0008 4FF48672 		mov	r2, #268
 181 000c 02FB0030 		mla	r0, r2, r0, r3
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 5


 182              	.LVL13:
 183              		.loc 1 47 79 is_stmt 0 view .LVU43
 184 0010 01A9     		add	r1, sp, #4
 185              	.LVL14:
 186              		.loc 1 47 79 view .LVU44
 187 0012 4068     		ldr	r0, [r0, #4]
 188 0014 FFF7FEFF 		bl	cvector_pushback
 189              	.LVL15:
 190              		.loc 1 47 139 view .LVU45
 191 0018 03B0     		add	sp, sp, #12
 192              	.LCFI3:
 193              		.cfi_def_cfa_offset 4
 194              		@ sp needed
 195 001a 5DF804FB 		ldr	pc, [sp], #4
 196              	.L10:
 197 001e 00BF     		.align	2
 198              	.L9:
 199 0020 00000000 		.word	.LANCHOR0
 200              		.cfi_endproc
 201              	.LFE134:
 203              		.section	.text.BSP_UART_Send_blocking,"ax",%progbits
 204              		.align	1
 205              		.global	BSP_UART_Send_blocking
 206              		.syntax unified
 207              		.thumb
 208              		.thumb_func
 210              	BSP_UART_Send_blocking:
 211              	.LVL16:
 212              	.LFB135:
  48:Core/BSP/interface/bsp_uart.c **** 
  49:Core/BSP/interface/bsp_uart.c **** //‰∏âÁßçÊ®°ÂºèÁöÑÂèëÈÄÅÂáΩÊï∞(‰ªÖÁÆÄÂçïÂ∞ÅË£Ö)
  50:Core/BSP/interface/bsp_uart.c **** void BSP_UART_Send_blocking(uint8_t uart_index, uint8_t *data, uint16_t len) {
 213              		.loc 1 50 78 is_stmt 1 view -0
 214              		.cfi_startproc
 215              		@ args = 0, pretend = 0, frame = 0
 216              		@ frame_needed = 0, uses_anonymous_args = 0
  51:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].queue_send_enable) return;
 217              		.loc 1 51 5 view .LVU47
 218              		.loc 1 51 31 is_stmt 0 view .LVU48
 219 0000 084B     		ldr	r3, .L18
 220 0002 4FF4867C 		mov	ip, #268
 221 0006 0CFB0033 		mla	r3, ip, r0, r3
 222 000a 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 223              		.loc 1 51 8 view .LVU49
 224 000c 03B1     		cbz	r3, .L17
 225 000e 7047     		bx	lr
 226              	.L17:
  50:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].queue_send_enable) return;
 227              		.loc 1 50 78 view .LVU50
 228 0010 10B5     		push	{r4, lr}
 229              	.LCFI4:
 230              		.cfi_def_cfa_offset 8
 231              		.cfi_offset 4, -8
 232              		.cfi_offset 14, -4
  52:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit(uart_ports[uart_index].port, data, len, 20);
 233              		.loc 1 52 5 is_stmt 1 view .LVU51
 234 0012 6346     		mov	r3, ip
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 6


 235 0014 03FB00F0 		mul	r0, r3, r0
 236              	.LVL17:
 237              		.loc 1 52 5 is_stmt 0 view .LVU52
 238 0018 1423     		movs	r3, #20
 239 001a 024C     		ldr	r4, .L18
 240 001c 2058     		ldr	r0, [r4, r0]
 241 001e FFF7FEFF 		bl	HAL_UART_Transmit
 242              	.LVL18:
  53:Core/BSP/interface/bsp_uart.c **** }
 243              		.loc 1 53 1 view .LVU53
 244 0022 10BD     		pop	{r4, pc}
 245              	.L19:
 246              		.align	2
 247              	.L18:
 248 0024 00000000 		.word	.LANCHOR0
 249              		.cfi_endproc
 250              	.LFE135:
 252              		.section	.text.BSP_UART_Send_IT,"ax",%progbits
 253              		.align	1
 254              		.global	BSP_UART_Send_IT
 255              		.syntax unified
 256              		.thumb
 257              		.thumb_func
 259              	BSP_UART_Send_IT:
 260              	.LVL19:
 261              	.LFB136:
  54:Core/BSP/interface/bsp_uart.c **** void BSP_UART_Send_IT(uint8_t uart_index, uint8_t *data, uint16_t len) {
 262              		.loc 1 54 72 is_stmt 1 view -0
 263              		.cfi_startproc
 264              		@ args = 0, pretend = 0, frame = 0
 265              		@ frame_needed = 0, uses_anonymous_args = 0
 266              		.loc 1 54 72 is_stmt 0 view .LVU55
 267 0000 08B5     		push	{r3, lr}
 268              	.LCFI5:
 269              		.cfi_def_cfa_offset 8
 270              		.cfi_offset 3, -8
 271              		.cfi_offset 14, -4
  55:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].queue_send_enable) return;
 272              		.loc 1 55 5 is_stmt 1 view .LVU56
 273              		.loc 1 55 31 is_stmt 0 view .LVU57
 274 0002 084B     		ldr	r3, .L24
 275 0004 4FF4867C 		mov	ip, #268
 276 0008 0CFB0033 		mla	r3, ip, r0, r3
 277 000c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 278              		.loc 1 55 8 view .LVU58
 279 000e 03B1     		cbz	r3, .L23
 280              	.LVL20:
 281              	.L20:
  56:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_IT(uart_ports[uart_index].port, data, len);
  57:Core/BSP/interface/bsp_uart.c **** }
 282              		.loc 1 57 1 view .LVU59
 283 0010 08BD     		pop	{r3, pc}
 284              	.LVL21:
 285              	.L23:
  56:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_IT(uart_ports[uart_index].port, data, len);
 286              		.loc 1 56 5 is_stmt 1 view .LVU60
 287 0012 6346     		mov	r3, ip
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 7


 288 0014 03FB00F0 		mul	r0, r3, r0
 289              	.LVL22:
  56:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_IT(uart_ports[uart_index].port, data, len);
 290              		.loc 1 56 5 is_stmt 0 view .LVU61
 291 0018 024B     		ldr	r3, .L24
 292 001a 1858     		ldr	r0, [r3, r0]
 293 001c FFF7FEFF 		bl	HAL_UART_Transmit_IT
 294              	.LVL23:
  56:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_IT(uart_ports[uart_index].port, data, len);
 295              		.loc 1 56 5 view .LVU62
 296 0020 F6E7     		b	.L20
 297              	.L25:
 298 0022 00BF     		.align	2
 299              	.L24:
 300 0024 00000000 		.word	.LANCHOR0
 301              		.cfi_endproc
 302              	.LFE136:
 304              		.section	.text.BSP_UART_Send_DMA,"ax",%progbits
 305              		.align	1
 306              		.global	BSP_UART_Send_DMA
 307              		.syntax unified
 308              		.thumb
 309              		.thumb_func
 311              	BSP_UART_Send_DMA:
 312              	.LVL24:
 313              	.LFB137:
  58:Core/BSP/interface/bsp_uart.c **** void BSP_UART_Send_DMA(uint8_t uart_index, uint8_t *data, uint16_t len) {
 314              		.loc 1 58 73 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
 318              		.loc 1 58 73 is_stmt 0 view .LVU64
 319 0000 08B5     		push	{r3, lr}
 320              	.LCFI6:
 321              		.cfi_def_cfa_offset 8
 322              		.cfi_offset 3, -8
 323              		.cfi_offset 14, -4
  59:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].queue_send_enable) return;
 324              		.loc 1 59 5 is_stmt 1 view .LVU65
 325              		.loc 1 59 31 is_stmt 0 view .LVU66
 326 0002 084B     		ldr	r3, .L30
 327 0004 4FF4867C 		mov	ip, #268
 328 0008 0CFB0033 		mla	r3, ip, r0, r3
 329 000c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 330              		.loc 1 59 8 view .LVU67
 331 000e 03B1     		cbz	r3, .L29
 332              	.LVL25:
 333              	.L26:
  60:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_DMA(uart_ports[uart_index].port, data, len);
  61:Core/BSP/interface/bsp_uart.c **** }
 334              		.loc 1 61 1 view .LVU68
 335 0010 08BD     		pop	{r3, pc}
 336              	.LVL26:
 337              	.L29:
  60:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_DMA(uart_ports[uart_index].port, data, len);
 338              		.loc 1 60 5 is_stmt 1 view .LVU69
 339 0012 6346     		mov	r3, ip
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 8


 340 0014 03FB00F0 		mul	r0, r3, r0
 341              	.LVL27:
  60:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_DMA(uart_ports[uart_index].port, data, len);
 342              		.loc 1 60 5 is_stmt 0 view .LVU70
 343 0018 024B     		ldr	r3, .L30
 344 001a 1858     		ldr	r0, [r3, r0]
 345 001c FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 346              	.LVL28:
  60:Core/BSP/interface/bsp_uart.c ****     HAL_UART_Transmit_DMA(uart_ports[uart_index].port, data, len);
 347              		.loc 1 60 5 view .LVU71
 348 0020 F6E7     		b	.L26
 349              	.L31:
 350 0022 00BF     		.align	2
 351              	.L30:
 352 0024 00000000 		.word	.LANCHOR0
 353              		.cfi_endproc
 354              	.LFE137:
 356              		.section	.text.BSP_UART_Send_queue,"ax",%progbits
 357              		.align	1
 358              		.global	BSP_UART_Send_queue
 359              		.syntax unified
 360              		.thumb
 361              		.thumb_func
 363              	BSP_UART_Send_queue:
 364              	.LVL29:
 365              	.LFB138:
  62:Core/BSP/interface/bsp_uart.c **** void BSP_UART_Send_queue(uint8_t uart_index, uint8_t *data, uint16_t len) {
 366              		.loc 1 62 75 is_stmt 1 view -0
 367              		.cfi_startproc
 368              		@ args = 0, pretend = 0, frame = 0
 369              		@ frame_needed = 0, uses_anonymous_args = 0
  63:Core/BSP/interface/bsp_uart.c ****     if (len > MAX_SEND_DATA_LEN) return;
 370              		.loc 1 63 5 view .LVU73
 371              		.loc 1 63 8 is_stmt 0 view .LVU74
 372 0000 B2F5807F 		cmp	r2, #256
 373 0004 2ED8     		bhi	.L35
  62:Core/BSP/interface/bsp_uart.c **** void BSP_UART_Send_queue(uint8_t uart_index, uint8_t *data, uint16_t len) {
 374              		.loc 1 62 75 view .LVU75
 375 0006 70B5     		push	{r4, r5, r6, lr}
 376              	.LCFI7:
 377              		.cfi_def_cfa_offset 16
 378              		.cfi_offset 4, -16
 379              		.cfi_offset 5, -12
 380              		.cfi_offset 6, -8
 381              		.cfi_offset 14, -4
 382 0008 0446     		mov	r4, r0
  64:Core/BSP/interface/bsp_uart.c ****     uart_ports[uart_index].queue_send_enable = 1;
 383              		.loc 1 64 5 is_stmt 1 view .LVU76
 384              		.loc 1 64 46 is_stmt 0 view .LVU77
 385 000a 174B     		ldr	r3, .L39
 386 000c 4FF48670 		mov	r0, #268
 387              	.LVL30:
 388              		.loc 1 64 46 view .LVU78
 389 0010 00FB0433 		mla	r3, r0, r4, r3
 390 0014 0120     		movs	r0, #1
 391 0016 1873     		strb	r0, [r3, #12]
  65:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].send_packs->cq_len == MAX_SEND_PACK) return;
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 9


 392              		.loc 1 65 5 is_stmt 1 view .LVU79
 393              		.loc 1 65 31 is_stmt 0 view .LVU80
 394 0018 9D68     		ldr	r5, [r3, #8]
 395              		.loc 1 65 42 view .LVU81
 396 001a AB68     		ldr	r3, [r5, #8]	@ unaligned
 397              		.loc 1 65 8 view .LVU82
 398 001c 0A2B     		cmp	r3, #10
 399 001e 12D0     		beq	.L32
  66:Core/BSP/interface/bsp_uart.c ****     static BSP_UART_Send_Pack temp_pack;
 400              		.loc 1 66 5 is_stmt 1 view .LVU83
  67:Core/BSP/interface/bsp_uart.c ****     temp_pack.len = len;
 401              		.loc 1 67 5 view .LVU84
 402              		.loc 1 67 19 is_stmt 0 view .LVU85
 403 0020 124E     		ldr	r6, .L39+4
 404 0022 3046     		mov	r0, r6
 405 0024 00F8012B 		strb	r2, [r0], #1
  68:Core/BSP/interface/bsp_uart.c ****     memcpy(temp_pack.buffer, data, len);
 406              		.loc 1 68 5 is_stmt 1 view .LVU86
 407 0028 FFF7FEFF 		bl	memcpy
 408              	.LVL31:
  69:Core/BSP/interface/bsp_uart.c ****     circular_queue_push(uart_ports[uart_index].send_packs, &temp_pack);
 409              		.loc 1 69 5 view .LVU87
 410 002c 3146     		mov	r1, r6
 411 002e 2846     		mov	r0, r5
 412 0030 FFF7FEFF 		bl	circular_queue_push
 413              	.LVL32:
  70:Core/BSP/interface/bsp_uart.c ****     //Á¨¨‰∏ÄÊ¨°ÂèëÈÄÅ
  71:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].send_packs->cq_len == 1) {
 414              		.loc 1 71 5 view .LVU88
 415              		.loc 1 71 31 is_stmt 0 view .LVU89
 416 0034 0C4B     		ldr	r3, .L39
 417 0036 4FF48672 		mov	r2, #268
 418 003a 02FB0433 		mla	r3, r2, r4, r3
 419 003e 9868     		ldr	r0, [r3, #8]
 420              		.loc 1 71 42 view .LVU90
 421 0040 8368     		ldr	r3, [r0, #8]	@ unaligned
 422              		.loc 1 71 8 view .LVU91
 423 0042 012B     		cmp	r3, #1
 424 0044 00D0     		beq	.L38
 425              	.L32:
  72:Core/BSP/interface/bsp_uart.c ****         BSP_UART_Send_Pack *now_pack = circular_queue_front(uart_ports[uart_index].send_packs);
  73:Core/BSP/interface/bsp_uart.c ****         // printf_log("send len:%d\n",now_pack->len);
  74:Core/BSP/interface/bsp_uart.c ****         HAL_UART_Transmit_IT(uart_ports[uart_index].port, now_pack->buffer, now_pack->len);
  75:Core/BSP/interface/bsp_uart.c ****     }
  76:Core/BSP/interface/bsp_uart.c **** }
 426              		.loc 1 76 1 view .LVU92
 427 0046 70BD     		pop	{r4, r5, r6, pc}
 428              	.L38:
 429              	.LBB3:
  72:Core/BSP/interface/bsp_uart.c ****         BSP_UART_Send_Pack *now_pack = circular_queue_front(uart_ports[uart_index].send_packs);
 430              		.loc 1 72 9 is_stmt 1 view .LVU93
  72:Core/BSP/interface/bsp_uart.c ****         BSP_UART_Send_Pack *now_pack = circular_queue_front(uart_ports[uart_index].send_packs);
 431              		.loc 1 72 40 is_stmt 0 view .LVU94
 432 0048 FFF7FEFF 		bl	circular_queue_front
 433              	.LVL33:
  74:Core/BSP/interface/bsp_uart.c ****     }
 434              		.loc 1 74 9 is_stmt 1 view .LVU95
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 10


  74:Core/BSP/interface/bsp_uart.c ****     }
 435              		.loc 1 74 67 is_stmt 0 view .LVU96
 436 004c 0146     		mov	r1, r0
  74:Core/BSP/interface/bsp_uart.c ****     }
 437              		.loc 1 74 9 view .LVU97
 438 004e 4FF48670 		mov	r0, #268
 439              	.LVL34:
  74:Core/BSP/interface/bsp_uart.c ****     }
 440              		.loc 1 74 9 view .LVU98
 441 0052 00FB04F4 		mul	r4, r0, r4
 442 0056 11F8012B 		ldrb	r2, [r1], #1	@ zero_extendqisi2
 443              	.LVL35:
  74:Core/BSP/interface/bsp_uart.c ****     }
 444              		.loc 1 74 9 view .LVU99
 445 005a 034B     		ldr	r3, .L39
 446 005c 1859     		ldr	r0, [r3, r4]
 447 005e FFF7FEFF 		bl	HAL_UART_Transmit_IT
 448              	.LVL36:
  74:Core/BSP/interface/bsp_uart.c ****     }
 449              		.loc 1 74 9 view .LVU100
 450 0062 F0E7     		b	.L32
 451              	.LVL37:
 452              	.L35:
 453              	.LCFI8:
 454              		.cfi_def_cfa_offset 0
 455              		.cfi_restore 4
 456              		.cfi_restore 5
 457              		.cfi_restore 6
 458              		.cfi_restore 14
  74:Core/BSP/interface/bsp_uart.c ****     }
 459              		.loc 1 74 9 view .LVU101
 460 0064 7047     		bx	lr
 461              	.L40:
 462 0066 00BF     		.align	2
 463              	.L39:
 464 0068 00000000 		.word	.LANCHOR0
 465 006c 00000000 		.word	.LANCHOR1
 466              	.LBE3:
 467              		.cfi_endproc
 468              	.LFE138:
 470              		.section	.text.BSP_UART_IDLECallback,"ax",%progbits
 471              		.align	1
 472              		.global	BSP_UART_IDLECallback
 473              		.syntax unified
 474              		.thumb
 475              		.thumb_func
 477              	BSP_UART_IDLECallback:
 478              	.LVL38:
 479              	.LFB139:
  77:Core/BSP/interface/bsp_uart.c **** // Á©∫Èó≤‰∏≠Êñ≠
  78:Core/BSP/interface/bsp_uart.c **** void BSP_UART_IDLECallback(uint8_t uart_index, UART_HandleTypeDef *huart) {
 480              		.loc 1 78 75 is_stmt 1 view -0
 481              		.cfi_startproc
 482              		@ args = 0, pretend = 0, frame = 8
 483              		@ frame_needed = 0, uses_anonymous_args = 0
  79:Core/BSP/interface/bsp_uart.c ****     //Âà§Êñ≠ÊòØÂê¶ÊòØÁ©∫Èó≤‰∏≠Êñ≠
  80:Core/BSP/interface/bsp_uart.c ****     if (RESET != __HAL_UART_GET_FLAG(huart, UART_FLAG_IDLE)) {
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 11


 484              		.loc 1 80 5 view .LVU103
 485              		.loc 1 80 18 is_stmt 0 view .LVU104
 486 0000 0B68     		ldr	r3, [r1]
 487 0002 1A68     		ldr	r2, [r3]
 488              		.loc 1 80 8 view .LVU105
 489 0004 12F0100F 		tst	r2, #16
 490 0008 00D1     		bne	.L49
 491 000a 7047     		bx	lr
 492              	.L49:
  78:Core/BSP/interface/bsp_uart.c ****     //Âà§Êñ≠ÊòØÂê¶ÊòØÁ©∫Èó≤‰∏≠Êñ≠
 493              		.loc 1 78 75 view .LVU106
 494 000c 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 495              	.LCFI9:
 496              		.cfi_def_cfa_offset 24
 497              		.cfi_offset 4, -24
 498              		.cfi_offset 5, -20
 499              		.cfi_offset 6, -16
 500              		.cfi_offset 7, -12
 501              		.cfi_offset 8, -8
 502              		.cfi_offset 14, -4
 503 0010 82B0     		sub	sp, sp, #8
 504              	.LCFI10:
 505              		.cfi_def_cfa_offset 32
 506 0012 0446     		mov	r4, r0
 507 0014 0E46     		mov	r6, r1
 508              	.LBB4:
  81:Core/BSP/interface/bsp_uart.c ****         __HAL_UART_CLEAR_IDLEFLAG(huart);  //Ê∏ÖÈô§Á©∫Èó≤‰∏≠Êñ≠Ê†áÂøóÔºàÂê¶Âàô‰ºö‰∏ÄÁõ¥‰∏çÊñ≠ËøõÂÖ•
 509              		.loc 1 81 9 is_stmt 1 view .LVU107
 510              	.LBB5:
 511              		.loc 1 81 9 view .LVU108
 512 0016 0025     		movs	r5, #0
 513 0018 0195     		str	r5, [sp, #4]
 514              		.loc 1 81 9 view .LVU109
 515 001a 1A68     		ldr	r2, [r3]
 516 001c 0192     		str	r2, [sp, #4]
 517              		.loc 1 81 9 view .LVU110
 518 001e 5B68     		ldr	r3, [r3, #4]
 519 0020 0193     		str	r3, [sp, #4]
 520              		.loc 1 81 9 view .LVU111
 521 0022 019B     		ldr	r3, [sp, #4]
 522              	.LBE5:
 523              		.loc 1 81 9 view .LVU112
  82:Core/BSP/interface/bsp_uart.c ****         // ‰∏ãÈù¢ËøõË°åÁ©∫Èó≤‰∏≠Êñ≠Áõ∏ÂÖ≥Â§ÑÁêÜ
  83:Core/BSP/interface/bsp_uart.c ****         HAL_UART_DMAStop(huart);                                                              //ÊöÇ
 524              		.loc 1 83 9 view .LVU113
 525 0024 0846     		mov	r0, r1
 526              	.LVL39:
 527              		.loc 1 83 9 is_stmt 0 view .LVU114
 528 0026 FFF7FEFF 		bl	HAL_UART_DMAStop
 529              	.LVL40:
  84:Core/BSP/interface/bsp_uart.c ****         uint8_t data_length = BSP_UART_DMA_BUFF_SIZE - __HAL_DMA_GET_COUNTER(huart->hdmarx);  //ËÆ°
 530              		.loc 1 84 9 is_stmt 1 view .LVU115
 531              		.loc 1 84 56 is_stmt 0 view .LVU116
 532 002a B36B     		ldr	r3, [r6, #56]
 533 002c 1B68     		ldr	r3, [r3]
 534 002e 5F68     		ldr	r7, [r3, #4]
 535              		.loc 1 84 54 view .LVU117
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 12


 536 0030 FFB2     		uxtb	r7, r7
 537              		.loc 1 84 17 view .LVU118
 538 0032 FF43     		mvns	r7, r7
 539 0034 FFB2     		uxtb	r7, r7
 540              	.LVL41:
  85:Core/BSP/interface/bsp_uart.c ****         //Ë∞ÉÁî®ÂõûË∞ÉÂáΩÊï∞ÂØπÊï∞ÊçÆËøõË°åÂ§ÑÁêÜ
  86:Core/BSP/interface/bsp_uart.c ****         for (size_t i = 0; i < uart_ports[uart_index].call_backs->cv_len; i++) {
 541              		.loc 1 86 9 is_stmt 1 view .LVU119
 542              	.LBB6:
 543              		.loc 1 86 14 view .LVU120
 544              		.loc 1 86 9 is_stmt 0 view .LVU121
 545 0036 10E0     		b	.L43
 546              	.LVL42:
 547              	.L44:
 548              	.LBB7:
  87:Core/BSP/interface/bsp_uart.c ****             uart_rx_callback funcnow = *(uart_rx_callback *)cvector_val_at(uart_ports[uart_index].c
 549              		.loc 1 87 13 is_stmt 1 discriminator 3 view .LVU122
 550              		.loc 1 87 61 is_stmt 0 discriminator 3 view .LVU123
 551 0038 2946     		mov	r1, r5
 552 003a FFF7FEFF 		bl	cvector_val_at
 553              	.LVL43:
 554              		.loc 1 87 30 discriminator 3 view .LVU124
 555 003e D0F80080 		ldr	r8, [r0]
 556              	.LVL44:
  88:Core/BSP/interface/bsp_uart.c ****             funcnow(uart_index, uart_ports[uart_index].rx_buff, data_length);
 557              		.loc 1 88 13 is_stmt 1 discriminator 3 view .LVU125
 558              		.loc 1 88 55 is_stmt 0 discriminator 3 view .LVU126
 559 0042 4FF48673 		mov	r3, #268
 560 0046 04FB03F3 		mul	r3, r4, r3
 561 004a 0833     		adds	r3, r3, #8
 562 004c 0E49     		ldr	r1, .L50
 563 004e 1944     		add	r1, r1, r3
 564              		.loc 1 88 13 discriminator 3 view .LVU127
 565 0050 3A46     		mov	r2, r7
 566 0052 0531     		adds	r1, r1, #5
 567 0054 2046     		mov	r0, r4
 568 0056 C047     		blx	r8
 569              	.LVL45:
 570              	.LBE7:
  86:Core/BSP/interface/bsp_uart.c ****             uart_rx_callback funcnow = *(uart_rx_callback *)cvector_val_at(uart_ports[uart_index].c
 571              		.loc 1 86 75 is_stmt 1 discriminator 3 view .LVU128
  86:Core/BSP/interface/bsp_uart.c ****             uart_rx_callback funcnow = *(uart_rx_callback *)cvector_val_at(uart_ports[uart_index].c
 572              		.loc 1 86 76 is_stmt 0 discriminator 3 view .LVU129
 573 0058 0135     		adds	r5, r5, #1
 574              	.LVL46:
 575              	.L43:
  86:Core/BSP/interface/bsp_uart.c ****             uart_rx_callback funcnow = *(uart_rx_callback *)cvector_val_at(uart_ports[uart_index].c
 576              		.loc 1 86 28 is_stmt 1 discriminator 1 view .LVU130
  86:Core/BSP/interface/bsp_uart.c ****             uart_rx_callback funcnow = *(uart_rx_callback *)cvector_val_at(uart_ports[uart_index].c
 577              		.loc 1 86 54 is_stmt 0 discriminator 1 view .LVU131
 578 005a 0B4B     		ldr	r3, .L50
 579 005c 4FF48672 		mov	r2, #268
 580 0060 02FB0433 		mla	r3, r2, r4, r3
 581 0064 5868     		ldr	r0, [r3, #4]
  86:Core/BSP/interface/bsp_uart.c ****             uart_rx_callback funcnow = *(uart_rx_callback *)cvector_val_at(uart_ports[uart_index].c
 582              		.loc 1 86 65 discriminator 1 view .LVU132
 583 0066 4368     		ldr	r3, [r0, #4]	@ unaligned
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 13


  86:Core/BSP/interface/bsp_uart.c ****             uart_rx_callback funcnow = *(uart_rx_callback *)cvector_val_at(uart_ports[uart_index].c
 584              		.loc 1 86 9 discriminator 1 view .LVU133
 585 0068 AB42     		cmp	r3, r5
 586 006a E5D8     		bhi	.L44
 587              	.LBE6:
  89:Core/BSP/interface/bsp_uart.c ****         }
  90:Core/BSP/interface/bsp_uart.c ****         HAL_UART_Receive_DMA(huart, uart_ports[uart_index].rx_buff, BSP_UART_DMA_BUFF_SIZE);  //Èáç
 588              		.loc 1 90 9 is_stmt 1 view .LVU134
 589              		.loc 1 90 59 is_stmt 0 view .LVU135
 590 006c 1146     		mov	r1, r2
 591 006e 04FB01F1 		mul	r1, r4, r1
 592 0072 0831     		adds	r1, r1, #8
 593 0074 044C     		ldr	r4, .L50
 594 0076 2144     		add	r1, r1, r4
 595              		.loc 1 90 9 view .LVU136
 596 0078 FF22     		movs	r2, #255
 597 007a 0531     		adds	r1, r1, #5
 598 007c 3046     		mov	r0, r6
 599 007e FFF7FEFF 		bl	HAL_UART_Receive_DMA
 600              	.LVL47:
 601              	.LBE4:
  91:Core/BSP/interface/bsp_uart.c ****     }
  92:Core/BSP/interface/bsp_uart.c **** }
 602              		.loc 1 92 1 view .LVU137
 603 0082 02B0     		add	sp, sp, #8
 604              	.LCFI11:
 605              		.cfi_def_cfa_offset 24
 606              		@ sp needed
 607 0084 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 608              	.LVL48:
 609              	.L51:
 610              		.loc 1 92 1 view .LVU138
 611              		.align	2
 612              	.L50:
 613 0088 00000000 		.word	.LANCHOR0
 614              		.cfi_endproc
 615              	.LFE139:
 617              		.section	.text.BSP_UART_TxCpltCallback,"ax",%progbits
 618              		.align	1
 619              		.global	BSP_UART_TxCpltCallback
 620              		.syntax unified
 621              		.thumb
 622              		.thumb_func
 624              	BSP_UART_TxCpltCallback:
 625              	.LVL49:
 626              	.LFB140:
  93:Core/BSP/interface/bsp_uart.c **** 
  94:Core/BSP/interface/bsp_uart.c **** //ÂèëÈÄÅÂÆåÊàêÂõûË∞ÉÂáΩÊï∞
  95:Core/BSP/interface/bsp_uart.c **** void BSP_UART_TxCpltCallback(uint8_t uart_index, UART_HandleTypeDef *huart) {
 627              		.loc 1 95 77 is_stmt 1 view -0
 628              		.cfi_startproc
 629              		@ args = 0, pretend = 0, frame = 0
 630              		@ frame_needed = 0, uses_anonymous_args = 0
  96:Core/BSP/interface/bsp_uart.c ****     // printf_log("tx cplt:%d\n", uart_index);
  97:Core/BSP/interface/bsp_uart.c ****     if (!uart_ports[uart_index].queue_send_enable) return;
 631              		.loc 1 97 5 view .LVU140
 632              		.loc 1 97 32 is_stmt 0 view .LVU141
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 14


 633 0000 144B     		ldr	r3, .L61
 634 0002 4FF48672 		mov	r2, #268
 635 0006 02FB0033 		mla	r3, r2, r0, r3
 636 000a 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 637              		.loc 1 97 8 view .LVU142
 638 000c 0BB3     		cbz	r3, .L56
  95:Core/BSP/interface/bsp_uart.c ****     // printf_log("tx cplt:%d\n", uart_index);
 639              		.loc 1 95 77 view .LVU143
 640 000e 10B5     		push	{r4, lr}
 641              	.LCFI12:
 642              		.cfi_def_cfa_offset 8
 643              		.cfi_offset 4, -8
 644              		.cfi_offset 14, -4
 645 0010 0446     		mov	r4, r0
  98:Core/BSP/interface/bsp_uart.c ****     // POPÊéâ‰πãÂâçÁöÑÊï∞ÊçÆ
  99:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].send_packs->cq_len > 0) {
 646              		.loc 1 99 5 is_stmt 1 view .LVU144
 647              		.loc 1 99 31 is_stmt 0 view .LVU145
 648 0012 104B     		ldr	r3, .L61
 649 0014 02FB0033 		mla	r3, r2, r0, r3
 650 0018 9868     		ldr	r0, [r3, #8]
 651              	.LVL50:
 652              		.loc 1 99 42 view .LVU146
 653 001a 8368     		ldr	r3, [r0, #8]	@ unaligned
 654              		.loc 1 99 8 view .LVU147
 655 001c 43B9     		cbnz	r3, .L59
 656              	.LVL51:
 657              	.L54:
 100:Core/BSP/interface/bsp_uart.c ****         circular_queue_pop(uart_ports[uart_index].send_packs);
 101:Core/BSP/interface/bsp_uart.c ****     }
 102:Core/BSP/interface/bsp_uart.c ****     //ËøòÊúâÊ≤°ÂèëÈÄÅÂÆåÁöÑÊï∞ÊçÆ
 103:Core/BSP/interface/bsp_uart.c ****     if (uart_ports[uart_index].send_packs->cq_len > 0) {
 658              		.loc 1 103 5 is_stmt 1 view .LVU148
 659              		.loc 1 103 31 is_stmt 0 view .LVU149
 660 001e 0D4B     		ldr	r3, .L61
 661 0020 4FF48672 		mov	r2, #268
 662 0024 02FB0433 		mla	r3, r2, r4, r3
 663 0028 9868     		ldr	r0, [r3, #8]
 664              		.loc 1 103 42 view .LVU150
 665 002a 8368     		ldr	r3, [r0, #8]	@ unaligned
 666              		.loc 1 103 8 view .LVU151
 667 002c 1BB9     		cbnz	r3, .L60
 668              	.L52:
 104:Core/BSP/interface/bsp_uart.c ****         BSP_UART_Send_Pack *now_pack = circular_queue_front(uart_ports[uart_index].send_packs);
 105:Core/BSP/interface/bsp_uart.c ****         //ÂÜçÊ¨°ÂèëÈÄÅ
 106:Core/BSP/interface/bsp_uart.c ****         //printf_log("queue send len:%d\n",now_pack->len);
 107:Core/BSP/interface/bsp_uart.c ****         HAL_UART_Transmit_IT(uart_ports[uart_index].port, now_pack->buffer, now_pack->len);
 108:Core/BSP/interface/bsp_uart.c ****     }
 109:Core/BSP/interface/bsp_uart.c **** }
 669              		.loc 1 109 1 view .LVU152
 670 002e 10BD     		pop	{r4, pc}
 671              	.LVL52:
 672              	.L59:
 100:Core/BSP/interface/bsp_uart.c ****         circular_queue_pop(uart_ports[uart_index].send_packs);
 673              		.loc 1 100 9 is_stmt 1 view .LVU153
 674 0030 FFF7FEFF 		bl	circular_queue_pop
 675              	.LVL53:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 15


 100:Core/BSP/interface/bsp_uart.c ****         circular_queue_pop(uart_ports[uart_index].send_packs);
 676              		.loc 1 100 9 is_stmt 0 view .LVU154
 677 0034 F3E7     		b	.L54
 678              	.L60:
 679              	.LBB8:
 104:Core/BSP/interface/bsp_uart.c ****         BSP_UART_Send_Pack *now_pack = circular_queue_front(uart_ports[uart_index].send_packs);
 680              		.loc 1 104 9 is_stmt 1 view .LVU155
 104:Core/BSP/interface/bsp_uart.c ****         BSP_UART_Send_Pack *now_pack = circular_queue_front(uart_ports[uart_index].send_packs);
 681              		.loc 1 104 40 is_stmt 0 view .LVU156
 682 0036 FFF7FEFF 		bl	circular_queue_front
 683              	.LVL54:
 107:Core/BSP/interface/bsp_uart.c ****     }
 684              		.loc 1 107 9 is_stmt 1 view .LVU157
 107:Core/BSP/interface/bsp_uart.c ****     }
 685              		.loc 1 107 67 is_stmt 0 view .LVU158
 686 003a 0146     		mov	r1, r0
 107:Core/BSP/interface/bsp_uart.c ****     }
 687              		.loc 1 107 9 view .LVU159
 688 003c 4FF48670 		mov	r0, #268
 689              	.LVL55:
 107:Core/BSP/interface/bsp_uart.c ****     }
 690              		.loc 1 107 9 view .LVU160
 691 0040 00FB04F4 		mul	r4, r0, r4
 692 0044 11F8012B 		ldrb	r2, [r1], #1	@ zero_extendqisi2
 693              	.LVL56:
 107:Core/BSP/interface/bsp_uart.c ****     }
 694              		.loc 1 107 9 view .LVU161
 695 0048 024B     		ldr	r3, .L61
 696 004a 1859     		ldr	r0, [r3, r4]
 697 004c FFF7FEFF 		bl	HAL_UART_Transmit_IT
 698              	.LVL57:
 107:Core/BSP/interface/bsp_uart.c ****     }
 699              		.loc 1 107 9 view .LVU162
 700 0050 EDE7     		b	.L52
 701              	.LVL58:
 702              	.L56:
 703              	.LCFI13:
 704              		.cfi_def_cfa_offset 0
 705              		.cfi_restore 4
 706              		.cfi_restore 14
 107:Core/BSP/interface/bsp_uart.c ****     }
 707              		.loc 1 107 9 view .LVU163
 708 0052 7047     		bx	lr
 709              	.L62:
 710              		.align	2
 711              	.L61:
 712 0054 00000000 		.word	.LANCHOR0
 713              	.LBE8:
 714              		.cfi_endproc
 715              	.LFE140:
 717              		.section	.text.BSP_UART_IRQHandler,"ax",%progbits
 718              		.align	1
 719              		.global	BSP_UART_IRQHandler
 720              		.syntax unified
 721              		.thumb
 722              		.thumb_func
 724              	BSP_UART_IRQHandler:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 16


 725              	.LVL59:
 726              	.LFB141:
 110:Core/BSP/interface/bsp_uart.c **** 
 111:Core/BSP/interface/bsp_uart.c **** /**
 112:Core/BSP/interface/bsp_uart.c ****  * @brief ‰∏≤Âè£Á©∫Èó≤‰∏≠Êñ≠Ôºà‰∏≠Êñ≠ÂõûË∞ÉÔºâÂáΩÊï∞
 113:Core/BSP/interface/bsp_uart.c ****  * @param ‰∏≤Âè£Âè∑
 114:Core/BSP/interface/bsp_uart.c ****  * @retval None
 115:Core/BSP/interface/bsp_uart.c ****  * @note  ÊîæÂú®"stm32f4xx_it.c"ÈáåÂΩ¢Â¶Ç"void USART2_IRQHandler(void)"Á±ªÁöÑÂáΩÊï∞‰∏≠ÔºåÂè™Ë¶ÅÁî®‰
 116:Core/BSP/interface/bsp_uart.c ****  * ÂÖ∑‰Ωì‰ΩçÁΩÆÔºöÁ≥ªÁªüË∞ÉÁî®ÁöÑHAL_UART_IRQHandlerÂáΩÊï∞‰∏ãÈù¢Ôºå"USER CODE BEGIN USART1_IRQn 1"Â
 117:Core/BSP/interface/bsp_uart.c ****  */
 118:Core/BSP/interface/bsp_uart.c **** void BSP_UART_IRQHandler(UART_HandleTypeDef *huart) {
 727              		.loc 1 118 53 is_stmt 1 view -0
 728              		.cfi_startproc
 729              		@ args = 0, pretend = 0, frame = 0
 730              		@ frame_needed = 0, uses_anonymous_args = 0
 731              		.loc 1 118 53 is_stmt 0 view .LVU165
 732 0000 10B5     		push	{r4, lr}
 733              	.LCFI14:
 734              		.cfi_def_cfa_offset 8
 735              		.cfi_offset 4, -8
 736              		.cfi_offset 14, -4
 737 0002 0446     		mov	r4, r0
 119:Core/BSP/interface/bsp_uart.c ****     if (huart == uart_ports[0].port) {
 738              		.loc 1 119 5 is_stmt 1 view .LVU166
 739              		.loc 1 119 31 is_stmt 0 view .LVU167
 740 0004 094B     		ldr	r3, .L69
 741 0006 1B68     		ldr	r3, [r3]
 742              		.loc 1 119 8 view .LVU168
 743 0008 8342     		cmp	r3, r0
 744 000a 05D0     		beq	.L67
 745              	.LVL60:
 746              	.L64:
 120:Core/BSP/interface/bsp_uart.c ****         BSP_UART_IDLECallback(0, huart);
 121:Core/BSP/interface/bsp_uart.c ****     }
 122:Core/BSP/interface/bsp_uart.c ****     if (huart == uart_ports[1].port) {
 747              		.loc 1 122 5 is_stmt 1 view .LVU169
 748              		.loc 1 122 31 is_stmt 0 view .LVU170
 749 000c 074B     		ldr	r3, .L69
 750 000e D3F80C31 		ldr	r3, [r3, #268]
 751              		.loc 1 122 8 view .LVU171
 752 0012 A342     		cmp	r3, r4
 753 0014 05D0     		beq	.L68
 754              	.L63:
 123:Core/BSP/interface/bsp_uart.c ****         BSP_UART_IDLECallback(1, huart);
 124:Core/BSP/interface/bsp_uart.c ****     }
 125:Core/BSP/interface/bsp_uart.c **** }
 755              		.loc 1 125 1 view .LVU172
 756 0016 10BD     		pop	{r4, pc}
 757              	.LVL61:
 758              	.L67:
 120:Core/BSP/interface/bsp_uart.c ****         BSP_UART_IDLECallback(0, huart);
 759              		.loc 1 120 9 is_stmt 1 view .LVU173
 760 0018 0146     		mov	r1, r0
 761 001a 0020     		movs	r0, #0
 762              	.LVL62:
 120:Core/BSP/interface/bsp_uart.c ****         BSP_UART_IDLECallback(0, huart);
 763              		.loc 1 120 9 is_stmt 0 view .LVU174
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 17


 764 001c FFF7FEFF 		bl	BSP_UART_IDLECallback
 765              	.LVL63:
 766 0020 F4E7     		b	.L64
 767              	.L68:
 123:Core/BSP/interface/bsp_uart.c ****         BSP_UART_IDLECallback(1, huart);
 768              		.loc 1 123 9 is_stmt 1 view .LVU175
 769 0022 2146     		mov	r1, r4
 770 0024 0120     		movs	r0, #1
 771 0026 FFF7FEFF 		bl	BSP_UART_IDLECallback
 772              	.LVL64:
 773              		.loc 1 125 1 is_stmt 0 view .LVU176
 774 002a F4E7     		b	.L63
 775              	.L70:
 776              		.align	2
 777              	.L69:
 778 002c 00000000 		.word	.LANCHOR0
 779              		.cfi_endproc
 780              	.LFE141:
 782              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 783              		.align	1
 784              		.global	HAL_UART_TxCpltCallback
 785              		.syntax unified
 786              		.thumb
 787              		.thumb_func
 789              	HAL_UART_TxCpltCallback:
 790              	.LVL65:
 791              	.LFB142:
 126:Core/BSP/interface/bsp_uart.c **** 
 127:Core/BSP/interface/bsp_uart.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 792              		.loc 1 127 57 is_stmt 1 view -0
 793              		.cfi_startproc
 794              		@ args = 0, pretend = 0, frame = 0
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 796              		.loc 1 127 57 is_stmt 0 view .LVU178
 797 0000 10B5     		push	{r4, lr}
 798              	.LCFI15:
 799              		.cfi_def_cfa_offset 8
 800              		.cfi_offset 4, -8
 801              		.cfi_offset 14, -4
 802 0002 0446     		mov	r4, r0
 128:Core/BSP/interface/bsp_uart.c ****     if (huart == uart_ports[0].port) {
 803              		.loc 1 128 5 is_stmt 1 view .LVU179
 804              		.loc 1 128 31 is_stmt 0 view .LVU180
 805 0004 094B     		ldr	r3, .L77
 806 0006 1B68     		ldr	r3, [r3]
 807              		.loc 1 128 8 view .LVU181
 808 0008 8342     		cmp	r3, r0
 809 000a 05D0     		beq	.L75
 810              	.LVL66:
 811              	.L72:
 129:Core/BSP/interface/bsp_uart.c ****         BSP_UART_TxCpltCallback(0, huart);
 130:Core/BSP/interface/bsp_uart.c ****     }
 131:Core/BSP/interface/bsp_uart.c ****     if (huart == uart_ports[1].port) {
 812              		.loc 1 131 5 is_stmt 1 view .LVU182
 813              		.loc 1 131 31 is_stmt 0 view .LVU183
 814 000c 074B     		ldr	r3, .L77
 815 000e D3F80C31 		ldr	r3, [r3, #268]
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 18


 816              		.loc 1 131 8 view .LVU184
 817 0012 A342     		cmp	r3, r4
 818 0014 05D0     		beq	.L76
 819              	.L71:
 132:Core/BSP/interface/bsp_uart.c ****         BSP_UART_TxCpltCallback(1, huart);
 133:Core/BSP/interface/bsp_uart.c ****     }
 134:Core/BSP/interface/bsp_uart.c **** }...
 820              		.loc 1 134 1 view .LVU185
 821 0016 10BD     		pop	{r4, pc}
 822              	.LVL67:
 823              	.L75:
 129:Core/BSP/interface/bsp_uart.c ****         BSP_UART_TxCpltCallback(0, huart);
 824              		.loc 1 129 9 is_stmt 1 view .LVU186
 825 0018 0146     		mov	r1, r0
 826 001a 0020     		movs	r0, #0
 827              	.LVL68:
 129:Core/BSP/interface/bsp_uart.c ****         BSP_UART_TxCpltCallback(0, huart);
 828              		.loc 1 129 9 is_stmt 0 view .LVU187
 829 001c FFF7FEFF 		bl	BSP_UART_TxCpltCallback
 830              	.LVL69:
 831 0020 F4E7     		b	.L72
 832              	.L76:
 132:Core/BSP/interface/bsp_uart.c ****         BSP_UART_TxCpltCallback(1, huart);
 833              		.loc 1 132 9 is_stmt 1 view .LVU188
 834 0022 2146     		mov	r1, r4
 835 0024 0120     		movs	r0, #1
 836 0026 FFF7FEFF 		bl	BSP_UART_TxCpltCallback
 837              	.LVL70:
 838              		.loc 1 134 1 is_stmt 0 view .LVU189
 839 002a F4E7     		b	.L71
 840              	.L78:
 841              		.align	2
 842              	.L77:
 843 002c 00000000 		.word	.LANCHOR0
 844              		.cfi_endproc
 845              	.LFE142:
 847              		.global	uart_ports
 848              		.section	.bss.temp_pack.0,"aw",%nobits
 849              		.align	2
 850              		.set	.LANCHOR1,. + 0
 853              	temp_pack.0:
 854 0000 00000000 		.space	257
 854      00000000 
 854      00000000 
 854      00000000 
 854      00000000 
 855              		.section	.bss.uart_ports,"aw",%nobits
 856              		.align	2
 857              		.set	.LANCHOR0,. + 0
 860              	uart_ports:
 861 0000 00000000 		.space	536
 861      00000000 
 861      00000000 
 861      00000000 
 861      00000000 
 862              		.text
 863              	.Letext0:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 19


 864              		.file 2 "d:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_types.h"
 865              		.file 3 "d:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 866              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 867              		.file 5 "d:\\gcc-arm-none-eabi\\lib\\gcc\\arm-none-eabi\\10.3.1\\include\\stddef.h"
 868              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 869              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 870              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 871              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 872              		.file 10 "Core/Inc/usart.h"
 873              		.file 11 "Core/BSP/interface/bsp_uart.h"
 874              		.file 12 "Core/HAL/lib/circular_queue.h"
 875              		.file 13 "Core/HAL/lib/cvector.h"
 876              		.file 14 "<built-in>"
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 bsp_uart.c
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:20     .text.BSP_UART_Init:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:26     .text.BSP_UART_Init:00000000 BSP_UART_Init
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:149    .text.BSP_UART_Init:00000084 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:156    .text.BSP_UART_RegisterRxCallback:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:162    .text.BSP_UART_RegisterRxCallback:00000000 BSP_UART_RegisterRxCallback
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:199    .text.BSP_UART_RegisterRxCallback:00000020 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:204    .text.BSP_UART_Send_blocking:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:210    .text.BSP_UART_Send_blocking:00000000 BSP_UART_Send_blocking
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:248    .text.BSP_UART_Send_blocking:00000024 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:253    .text.BSP_UART_Send_IT:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:259    .text.BSP_UART_Send_IT:00000000 BSP_UART_Send_IT
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:300    .text.BSP_UART_Send_IT:00000024 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:305    .text.BSP_UART_Send_DMA:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:311    .text.BSP_UART_Send_DMA:00000000 BSP_UART_Send_DMA
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:352    .text.BSP_UART_Send_DMA:00000024 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:357    .text.BSP_UART_Send_queue:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:363    .text.BSP_UART_Send_queue:00000000 BSP_UART_Send_queue
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:464    .text.BSP_UART_Send_queue:00000068 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:471    .text.BSP_UART_IDLECallback:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:477    .text.BSP_UART_IDLECallback:00000000 BSP_UART_IDLECallback
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:613    .text.BSP_UART_IDLECallback:00000088 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:618    .text.BSP_UART_TxCpltCallback:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:624    .text.BSP_UART_TxCpltCallback:00000000 BSP_UART_TxCpltCallback
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:712    .text.BSP_UART_TxCpltCallback:00000054 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:718    .text.BSP_UART_IRQHandler:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:724    .text.BSP_UART_IRQHandler:00000000 BSP_UART_IRQHandler
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:778    .text.BSP_UART_IRQHandler:0000002c $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:783    .text.HAL_UART_TxCpltCallback:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:789    .text.HAL_UART_TxCpltCallback:00000000 HAL_UART_TxCpltCallback
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:843    .text.HAL_UART_TxCpltCallback:0000002c $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:860    .bss.uart_ports:00000000 uart_ports
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:849    .bss.temp_pack.0:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:853    .bss.temp_pack.0:00000000 temp_pack.0
C:\Users\lenovo\AppData\Local\Temp\cctP51JP.s:856    .bss.uart_ports:00000000 $d

UNDEFINED SYMBOLS
cvector_create
create_circular_queue
HAL_DMA_DeInit
HAL_DMA_Init
HAL_UART_DMAStop
HAL_UART_Receive_DMA
huart3
huart6
cvector_pushback
HAL_UART_Transmit
HAL_UART_Transmit_IT
HAL_UART_Transmit_DMA
memcpy
circular_queue_push
circular_queue_front
cvector_val_at
circular_queue_pop
