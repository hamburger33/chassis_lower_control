ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"mrac.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.sat,"ax",%progbits
  20              		.align	1
  21              		.global	sat
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	sat:
  27              	.LVL0:
  28              	.LFB0:
  29              		.file 1 "Core/HAL/lib/controller/mrac.c"
   1:Core/HAL/lib/controller/mrac.c **** /**
   2:Core/HAL/lib/controller/mrac.c ****  * @file           : mrac.c
   3:Core/HAL/lib/controller/mrac.c ****  * @brief          :
   4:Core/HAL/lib/controller/mrac.c ****  * @Author         : ÂàòÊñáÁÜ†
   5:Core/HAL/lib/controller/mrac.c ****  * @Date           : 2022-04-10 09:36
   6:Core/HAL/lib/controller/mrac.c ****  * @LastEditTime   : 2022-04-28 17:34
   7:Core/HAL/lib/controller/mrac.c ****  * @Note           :
   8:Core/HAL/lib/controller/mrac.c ****  * @Copyright(c)   : ÂìàÂ∞îÊª®Â∑•‰∏öÂ§ßÂ≠¶ÔºàÊ∑±Âú≥ÔºâÂçóÂ∑•È™ÅÈπ∞Êú∫Âô®‰∫∫ÈòüÁâàÊùÉÊâÄÊúâ Critical
   9:Core/HAL/lib/controller/mrac.c ****  */
  10:Core/HAL/lib/controller/mrac.c **** 
  11:Core/HAL/lib/controller/mrac.c **** #include "mrac.h"
  12:Core/HAL/lib/controller/mrac.c **** 
  13:Core/HAL/lib/controller/mrac.c **** #include "common.h"
  14:Core/HAL/lib/controller/mrac.c **** #include "math.h"
  15:Core/HAL/lib/controller/mrac.c **** #include <string.h>
  16:Core/HAL/lib/controller/mrac.c **** 
  17:Core/HAL/lib/controller/mrac.c **** #define M_PI 3.14
  18:Core/HAL/lib/controller/mrac.c **** 
  19:Core/HAL/lib/controller/mrac.c **** float sat(float x, float lower_bound, float upper_bound);
  20:Core/HAL/lib/controller/mrac.c **** void MTDFunction(MTD_t *ptd, float aim);
  21:Core/HAL/lib/controller/mrac.c **** 
  22:Core/HAL/lib/controller/mrac.c **** float sat(float x, float lower_bound, float upper_bound) {
  30              		.loc 1 22 58 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  23:Core/HAL/lib/controller/mrac.c ****     if (lower_bound > upper_bound) return 0;
  35              		.loc 1 23 5 view .LVU1
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 2


  36              		.loc 1 23 8 is_stmt 0 view .LVU2
  37 0000 F4EEC10A 		vcmpe.f32	s1, s2
  38 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  39 0008 0CDC     		bgt	.L4
  24:Core/HAL/lib/controller/mrac.c ****     if (x > upper_bound)
  40              		.loc 1 24 5 is_stmt 1 view .LVU3
  41              		.loc 1 24 8 is_stmt 0 view .LVU4
  42 000a B4EEC01A 		vcmpe.f32	s2, s0
  43 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  44 0012 0AD4     		bmi	.L5
  25:Core/HAL/lib/controller/mrac.c ****         return upper_bound;
  26:Core/HAL/lib/controller/mrac.c ****     else if (x < lower_bound)
  45              		.loc 1 26 10 is_stmt 1 view .LVU5
  46              		.loc 1 26 13 is_stmt 0 view .LVU6
  47 0014 F4EEC00A 		vcmpe.f32	s1, s0
  48 0018 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  49 001c 07DD     		ble	.L1
  27:Core/HAL/lib/controller/mrac.c ****         return lower_bound;
  50              		.loc 1 27 16 view .LVU7
  51 001e B0EE600A 		vmov.f32	s0, s1
  52              	.LVL1:
  53              		.loc 1 27 16 view .LVU8
  54 0022 7047     		bx	lr
  55              	.LVL2:
  56              	.L4:
  23:Core/HAL/lib/controller/mrac.c ****     if (x > upper_bound)
  57              		.loc 1 23 43 view .LVU9
  58 0024 9FED020A 		vldr.32	s0, .L9
  59              	.LVL3:
  23:Core/HAL/lib/controller/mrac.c ****     if (x > upper_bound)
  60              		.loc 1 23 43 view .LVU10
  61 0028 7047     		bx	lr
  62              	.LVL4:
  63              	.L5:
  25:Core/HAL/lib/controller/mrac.c ****         return upper_bound;
  64              		.loc 1 25 16 view .LVU11
  65 002a B0EE410A 		vmov.f32	s0, s2
  66              	.LVL5:
  67              	.L1:
  28:Core/HAL/lib/controller/mrac.c ****     else
  29:Core/HAL/lib/controller/mrac.c ****         return x;
  30:Core/HAL/lib/controller/mrac.c **** }
  68              		.loc 1 30 1 view .LVU12
  69 002e 7047     		bx	lr
  70              	.L10:
  71              		.align	2
  72              	.L9:
  73 0030 00000000 		.word	0
  74              		.cfi_endproc
  75              	.LFE0:
  77              		.global	__aeabi_f2d
  78              		.global	__aeabi_dmul
  79              		.global	__aeabi_ddiv
  80              		.global	__aeabi_dadd
  81              		.global	__aeabi_d2f
  82              		.global	__aeabi_dsub
  83              		.global	__aeabi_i2d
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 3


  84              		.section	.text.MTDFunction,"ax",%progbits
  85              		.align	1
  86              		.global	MTDFunction
  87              		.syntax unified
  88              		.thumb
  89              		.thumb_func
  91              	MTDFunction:
  92              	.LVL6:
  93              	.LFB1:
  31:Core/HAL/lib/controller/mrac.c **** 
  32:Core/HAL/lib/controller/mrac.c **** void MTDFunction(MTD_t *ptd, float aim) {
  94              		.loc 1 32 41 is_stmt 1 view -0
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 0
  97              		@ frame_needed = 0, uses_anonymous_args = 0
  98              		.loc 1 32 41 is_stmt 0 view .LVU14
  99 0000 2DE9D043 		push	{r4, r6, r7, r8, r9, lr}
 100              	.LCFI0:
 101              		.cfi_def_cfa_offset 24
 102              		.cfi_offset 4, -24
 103              		.cfi_offset 6, -20
 104              		.cfi_offset 7, -16
 105              		.cfi_offset 8, -12
 106              		.cfi_offset 9, -8
 107              		.cfi_offset 14, -4
 108 0004 2DED068B 		vpush.64	{d8, d9, d10}
 109              	.LCFI1:
 110              		.cfi_def_cfa_offset 48
 111              		.cfi_offset 80, -48
 112              		.cfi_offset 81, -44
 113              		.cfi_offset 82, -40
 114              		.cfi_offset 83, -36
 115              		.cfi_offset 84, -32
 116              		.cfi_offset 85, -28
 117 0008 0446     		mov	r4, r0
  33:Core/HAL/lib/controller/mrac.c ****     float d, d0, y, k0, k, a = 0.0f;
 118              		.loc 1 33 5 is_stmt 1 view .LVU15
 119              	.LVL7:
  34:Core/HAL/lib/controller/mrac.c ****     ptd->aim = aim;
 120              		.loc 1 34 5 view .LVU16
 121              		.loc 1 34 14 is_stmt 0 view .LVU17
 122 000a 10EE103A 		vmov	r3, s0
 123 000e 4361     		str	r3, [r0, #20]	@ unaligned
  35:Core/HAL/lib/controller/mrac.c ****     ptd->x = ptd->x1 - ptd->aim;
 124              		.loc 1 35 5 is_stmt 1 view .LVU18
 125              		.loc 1 35 17 is_stmt 0 view .LVU19
 126 0010 0368     		ldr	r3, [r0]	@ unaligned
 127 0012 08EE103A 		vmov	s16, r3	@ int
 128              		.loc 1 35 22 view .LVU20
 129 0016 38EE400A 		vsub.f32	s0, s16, s0
 130              	.LVL8:
 131              		.loc 1 35 12 view .LVU21
 132 001a 10EE103A 		vmov	r3, s0
 133 001e 8360     		str	r3, [r0, #8]	@ unaligned
  36:Core/HAL/lib/controller/mrac.c ****     d = ptd->h * ptd->r;
 134              		.loc 1 36 5 is_stmt 1 view .LVU22
 135              		.loc 1 36 12 is_stmt 0 view .LVU23
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 4


 136 0020 0369     		ldr	r3, [r0, #16]	@ unaligned
 137 0022 07EE903A 		vmov	s15, r3	@ int
 138              		.loc 1 36 21 view .LVU24
 139 0026 C368     		ldr	r3, [r0, #12]	@ unaligned
 140 0028 09EE903A 		vmov	s19, r3	@ int
 141              		.loc 1 36 7 view .LVU25
 142 002c 67EEA99A 		vmul.f32	s19, s15, s19
 143              	.LVL9:
  37:Core/HAL/lib/controller/mrac.c ****     d0 = d * ptd->h;
 144              		.loc 1 37 5 is_stmt 1 view .LVU26
 145              		.loc 1 37 8 is_stmt 0 view .LVU27
 146 0030 27EEA9AA 		vmul.f32	s20, s15, s19
 147              	.LVL10:
  38:Core/HAL/lib/controller/mrac.c ****     y = ptd->x + ptd->h * ptd->x2;
 148              		.loc 1 38 5 is_stmt 1 view .LVU28
 149              		.loc 1 38 30 is_stmt 0 view .LVU29
 150 0034 4368     		ldr	r3, [r0, #4]	@ unaligned
 151 0036 08EE103A 		vmov	s16, r3	@ int
 152              		.loc 1 38 25 view .LVU30
 153 003a 67EE887A 		vmul.f32	s15, s15, s16
 154              		.loc 1 38 7 view .LVU31
 155 003e 30EE278A 		vadd.f32	s16, s0, s15
 156              	.LVL11:
  39:Core/HAL/lib/controller/mrac.c ****     k0 = (1 + sqrt(1 + 8 * fabs(y) / d0)) / 2.0f;
 157              		.loc 1 39 5 is_stmt 1 view .LVU32
 158              		.loc 1 39 28 is_stmt 0 view .LVU33
 159 0042 F0EEC88A 		vabs.f32	s17, s16
 160 0046 18EE900A 		vmov	r0, s17
 161              	.LVL12:
 162              		.loc 1 39 28 view .LVU34
 163 004a FFF7FEFF 		bl	__aeabi_f2d
 164              	.LVL13:
 165              		.loc 1 39 26 view .LVU35
 166 004e 0022     		movs	r2, #0
 167 0050 584B     		ldr	r3, .L19
 168 0052 FFF7FEFF 		bl	__aeabi_dmul
 169              	.LVL14:
 170 0056 0646     		mov	r6, r0
 171 0058 0F46     		mov	r7, r1
 172              		.loc 1 39 36 view .LVU36
 173 005a 1AEE100A 		vmov	r0, s20
 174 005e FFF7FEFF 		bl	__aeabi_f2d
 175              	.LVL15:
 176 0062 0246     		mov	r2, r0
 177 0064 0B46     		mov	r3, r1
 178 0066 3046     		mov	r0, r6
 179 0068 3946     		mov	r1, r7
 180 006a FFF7FEFF 		bl	__aeabi_ddiv
 181              	.LVL16:
 182              		.loc 1 39 15 view .LVU37
 183 006e 0022     		movs	r2, #0
 184 0070 514B     		ldr	r3, .L19+4
 185 0072 FFF7FEFF 		bl	__aeabi_dadd
 186              	.LVL17:
 187 0076 41EC100B 		vmov	d0, r0, r1
 188 007a FFF7FEFF 		bl	sqrt
 189              	.LVL18:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 5


 190 007e 51EC100B 		vmov	r0, r1, d0
 191              		.loc 1 39 13 view .LVU38
 192 0082 0022     		movs	r2, #0
 193 0084 4C4B     		ldr	r3, .L19+4
 194 0086 FFF7FEFF 		bl	__aeabi_dadd
 195              	.LVL19:
 196              		.loc 1 39 43 view .LVU39
 197 008a 0022     		movs	r2, #0
 198 008c 4B4B     		ldr	r3, .L19+8
 199 008e FFF7FEFF 		bl	__aeabi_dmul
 200              	.LVL20:
 201              		.loc 1 39 8 view .LVU40
 202 0092 FFF7FEFF 		bl	__aeabi_d2f
 203              	.LVL21:
  40:Core/HAL/lib/controller/mrac.c ****     k = fsgn(k0 - floor(k0)) + floor(k0);
 204              		.loc 1 40 5 is_stmt 1 view .LVU41
 205              		.loc 1 40 17 is_stmt 0 view .LVU42
 206 0096 FFF7FEFF 		bl	__aeabi_f2d
 207              	.LVL22:
 208              		.loc 1 40 17 view .LVU43
 209 009a 0646     		mov	r6, r0
 210 009c 0F46     		mov	r7, r1
 211              		.loc 1 40 19 view .LVU44
 212 009e 47EC106B 		vmov	d0, r6, r7
 213 00a2 FFF7FEFF 		bl	floor
 214              	.LVL23:
 215 00a6 59EC108B 		vmov	r8, r9, d0
 216              		.loc 1 40 17 view .LVU45
 217 00aa 10EE102A 		vmov	r2, s0	@ int
 218 00ae 4B46     		mov	r3, r9
 219 00b0 3046     		mov	r0, r6
 220 00b2 3946     		mov	r1, r7
 221 00b4 FFF7FEFF 		bl	__aeabi_dsub
 222              	.LVL24:
 223              		.loc 1 40 9 view .LVU46
 224 00b8 FFF7FEFF 		bl	__aeabi_d2f
 225              	.LVL25:
 226 00bc 00EE100A 		vmov	s0, r0
 227 00c0 FFF7FEFF 		bl	fsgn
 228              	.LVL26:
 229              		.loc 1 40 30 view .LVU47
 230 00c4 FFF7FEFF 		bl	__aeabi_i2d
 231              	.LVL27:
 232 00c8 4246     		mov	r2, r8
 233 00ca 4B46     		mov	r3, r9
 234 00cc FFF7FEFF 		bl	__aeabi_dadd
 235              	.LVL28:
 236              		.loc 1 40 7 view .LVU48
 237 00d0 FFF7FEFF 		bl	__aeabi_d2f
 238              	.LVL29:
  41:Core/HAL/lib/controller/mrac.c ****     if (fabs(y) > d0)
 239              		.loc 1 41 5 is_stmt 1 view .LVU49
 240              		.loc 1 41 8 is_stmt 0 view .LVU50
 241 00d4 F4EECA8A 		vcmpe.f32	s17, s20
 242 00d8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 243 00dc 33DC     		bgt	.L18
  42:Core/HAL/lib/controller/mrac.c ****         a = ptd->r * sat((1 - k / 2.0f) * fsgn(y) - (ptd->x + k * ptd->h * ptd->x2) / ((k - 1) * d0
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 6


  43:Core/HAL/lib/controller/mrac.c ****     else
  44:Core/HAL/lib/controller/mrac.c ****         a = -ptd->r * sat((ptd->x2 + y / ptd->h) / d, -1.0f, 1.0f);
 244              		.loc 1 44 9 is_stmt 1 view .LVU51
 245              		.loc 1 44 17 is_stmt 0 view .LVU52
 246 00de E368     		ldr	r3, [r4, #12]	@ unaligned
 247              		.loc 1 44 13 view .LVU53
 248 00e0 07EE903A 		vmov	s15, r3
 249 00e4 F1EE678A 		vneg.f32	s17, s15
 250              		.loc 1 44 31 view .LVU54
 251 00e8 6368     		ldr	r3, [r4, #4]	@ unaligned
 252 00ea 00EE103A 		vmov	s0, r3	@ int
 253              		.loc 1 44 45 view .LVU55
 254 00ee 2369     		ldr	r3, [r4, #16]	@ unaligned
 255              		.loc 1 44 40 view .LVU56
 256 00f0 07EE903A 		vmov	s15, r3
 257 00f4 C8EE277A 		vdiv.f32	s15, s16, s15
 258              		.loc 1 44 36 view .LVU57
 259 00f8 30EE270A 		vadd.f32	s0, s0, s15
 260              		.loc 1 44 23 view .LVU58
 261 00fc B7EE001A 		vmov.f32	s2, #1.0e+0
 262 0100 FFEE000A 		vmov.f32	s1, #-1.0e+0
 263 0104 80EE290A 		vdiv.f32	s0, s0, s19
 264 0108 FFF7FEFF 		bl	sat
 265              	.LVL30:
 266              		.loc 1 44 11 view .LVU59
 267 010c 28EE800A 		vmul.f32	s0, s17, s0
 268              	.LVL31:
 269              	.L14:
  45:Core/HAL/lib/controller/mrac.c ****     ptd->x1 += ptd->dt * ptd->x2;
 270              		.loc 1 45 5 is_stmt 1 view .LVU60
 271              		.loc 1 45 19 is_stmt 0 view .LVU61
 272 0110 A369     		ldr	r3, [r4, #24]	@ unaligned
 273 0112 07EE103A 		vmov	s14, r3	@ int
 274              		.loc 1 45 29 view .LVU62
 275 0116 6368     		ldr	r3, [r4, #4]	@ unaligned
 276 0118 07EE903A 		vmov	s15, r3	@ int
 277              		.loc 1 45 24 view .LVU63
 278 011c 67EE276A 		vmul.f32	s13, s14, s15
 279              		.loc 1 45 13 view .LVU64
 280 0120 2368     		ldr	r3, [r4]	@ unaligned
 281 0122 06EE103A 		vmov	s12, r3
 282 0126 76EE866A 		vadd.f32	s13, s13, s12
 283 012a 16EE903A 		vmov	r3, s13	@ int
 284 012e 2360     		str	r3, [r4]	@ unaligned
  46:Core/HAL/lib/controller/mrac.c ****     ptd->x2 += ptd->dt * a;
 285              		.loc 1 46 5 is_stmt 1 view .LVU65
 286              		.loc 1 46 24 is_stmt 0 view .LVU66
 287 0130 27EE000A 		vmul.f32	s0, s14, s0
 288              	.LVL32:
 289              		.loc 1 46 13 view .LVU67
 290 0134 77EE807A 		vadd.f32	s15, s15, s0
 291 0138 17EE903A 		vmov	r3, s15	@ int
 292 013c 6360     		str	r3, [r4, #4]	@ unaligned
  47:Core/HAL/lib/controller/mrac.c **** }
 293              		.loc 1 47 1 view .LVU68
 294 013e BDEC068B 		vldm	sp!, {d8-d10}
 295              	.LCFI2:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 7


 296              		.cfi_remember_state
 297              		.cfi_restore 84
 298              		.cfi_restore 85
 299              		.cfi_restore 82
 300              		.cfi_restore 83
 301              		.cfi_restore 80
 302              		.cfi_restore 81
 303              		.cfi_def_cfa_offset 24
 304              	.LVL33:
 305              		.loc 1 47 1 view .LVU69
 306 0142 BDE8D083 		pop	{r4, r6, r7, r8, r9, pc}
 307              	.LVL34:
 308              	.L18:
 309              	.LCFI3:
 310              		.cfi_restore_state
 311              		.loc 1 47 1 view .LVU70
 312 0146 09EE100A 		vmov	s18, r0
  42:Core/HAL/lib/controller/mrac.c ****     else
 313              		.loc 1 42 9 is_stmt 1 view .LVU71
  42:Core/HAL/lib/controller/mrac.c ****     else
 314              		.loc 1 42 16 is_stmt 0 view .LVU72
 315 014a E368     		ldr	r3, [r4, #12]	@ unaligned
 316 014c 08EE903A 		vmov	s17, r3	@ int
  42:Core/HAL/lib/controller/mrac.c ****     else
 317              		.loc 1 42 33 view .LVU73
 318 0150 B6EE007A 		vmov.f32	s14, #5.0e-1
 319 0154 29EE077A 		vmul.f32	s14, s18, s14
  42:Core/HAL/lib/controller/mrac.c ****     else
 320              		.loc 1 42 29 view .LVU74
 321 0158 F7EE00AA 		vmov.f32	s21, #1.0e+0
 322 015c 7AEEC79A 		vsub.f32	s19, s21, s14
 323              	.LVL35:
  42:Core/HAL/lib/controller/mrac.c ****     else
 324              		.loc 1 42 43 view .LVU75
 325 0160 B0EE480A 		vmov.f32	s0, s16
 326 0164 FFF7FEFF 		bl	fsgn
 327              	.LVL36:
  42:Core/HAL/lib/controller/mrac.c ****     else
 328              		.loc 1 42 43 view .LVU76
 329 0168 07EE100A 		vmov	s14, r0	@ int
  42:Core/HAL/lib/controller/mrac.c ****     else
 330              		.loc 1 42 41 view .LVU77
 331 016c B8EEC77A 		vcvt.f32.s32	s14, s14
 332 0170 27EE297A 		vmul.f32	s14, s14, s19
  42:Core/HAL/lib/controller/mrac.c ****     else
 333              		.loc 1 42 57 view .LVU78
 334 0174 A368     		ldr	r3, [r4, #8]	@ unaligned
  42:Core/HAL/lib/controller/mrac.c ****     else
 335              		.loc 1 42 70 view .LVU79
 336 0176 2269     		ldr	r2, [r4, #16]	@ unaligned
 337 0178 07EE902A 		vmov	s15, r2	@ int
  42:Core/HAL/lib/controller/mrac.c ****     else
 338              		.loc 1 42 65 view .LVU80
 339 017c 67EE896A 		vmul.f32	s13, s15, s18
  42:Core/HAL/lib/controller/mrac.c ****     else
 340              		.loc 1 42 79 view .LVU81
 341 0180 6268     		ldr	r2, [r4, #4]	@ unaligned
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 8


 342 0182 07EE902A 		vmov	s15, r2	@ int
  42:Core/HAL/lib/controller/mrac.c ****     else
 343              		.loc 1 42 74 view .LVU82
 344 0186 66EEA77A 		vmul.f32	s15, s13, s15
  42:Core/HAL/lib/controller/mrac.c ****     else
 345              		.loc 1 42 61 view .LVU83
 346 018a 06EE903A 		vmov	s13, r3
 347 018e 76EEA76A 		vadd.f32	s13, s13, s15
  42:Core/HAL/lib/controller/mrac.c ****     else
 348              		.loc 1 42 91 view .LVU84
 349 0192 79EE6A7A 		vsub.f32	s15, s18, s21
  42:Core/HAL/lib/controller/mrac.c ****     else
 350              		.loc 1 42 96 view .LVU85
 351 0196 67EE8A7A 		vmul.f32	s15, s15, s20
  42:Core/HAL/lib/controller/mrac.c ****     else
 352              		.loc 1 42 85 view .LVU86
 353 019a 86EEA70A 		vdiv.f32	s0, s13, s15
  42:Core/HAL/lib/controller/mrac.c ****     else
 354              		.loc 1 42 22 view .LVU87
 355 019e B0EE6A1A 		vmov.f32	s2, s21
 356 01a2 FFEE000A 		vmov.f32	s1, #-1.0e+0
 357 01a6 37EE400A 		vsub.f32	s0, s14, s0
 358 01aa FFF7FEFF 		bl	sat
 359              	.LVL37:
  42:Core/HAL/lib/controller/mrac.c ****     else
 360              		.loc 1 42 11 view .LVU88
 361 01ae 28EE800A 		vmul.f32	s0, s17, s0
 362              	.LVL38:
  42:Core/HAL/lib/controller/mrac.c ****     else
 363              		.loc 1 42 11 view .LVU89
 364 01b2 ADE7     		b	.L14
 365              	.L20:
 366              		.align	2
 367              	.L19:
 368 01b4 00002040 		.word	1075838976
 369 01b8 0000F03F 		.word	1072693248
 370 01bc 0000E03F 		.word	1071644672
 371              		.cfi_endproc
 372              	.LFE1:
 374              		.section	.text.mrac_2d_calc,"ax",%progbits
 375              		.align	1
 376              		.global	mrac_2d_calc
 377              		.syntax unified
 378              		.thumb
 379              		.thumb_func
 381              	mrac_2d_calc:
 382              	.LVL39:
 383              	.LFB2:
  48:Core/HAL/lib/controller/mrac.c **** 
  49:Core/HAL/lib/controller/mrac.c **** /**
  50:Core/HAL/lib/controller/mrac.c ****  * @brief MRAC calculate
  51:Core/HAL/lib/controller/mrac.c ****  * @param mrac struct, ref, all fdb
  52:Core/HAL/lib/controller/mrac.c ****  * @retval None
  53:Core/HAL/lib/controller/mrac.c ****  */
  54:Core/HAL/lib/controller/mrac.c **** void mrac_2d_calc(mrac_2d *mrac, float ref, float x1_fdb, float x2_fdb, unsigned char enable) {
 384              		.loc 1 54 95 is_stmt 1 view -0
 385              		.cfi_startproc
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 9


 386              		@ args = 0, pretend = 0, frame = 0
 387              		@ frame_needed = 0, uses_anonymous_args = 0
 388              		.loc 1 54 95 is_stmt 0 view .LVU91
 389 0000 10B5     		push	{r4, lr}
 390              	.LCFI4:
 391              		.cfi_def_cfa_offset 8
 392              		.cfi_offset 4, -8
 393              		.cfi_offset 14, -4
 394 0002 2DED068B 		vpush.64	{d8, d9, d10}
 395              	.LCFI5:
 396              		.cfi_def_cfa_offset 32
 397              		.cfi_offset 80, -32
 398              		.cfi_offset 81, -28
 399              		.cfi_offset 82, -24
 400              		.cfi_offset 83, -20
 401              		.cfi_offset 84, -16
 402              		.cfi_offset 85, -12
 403 0006 0446     		mov	r4, r0
 404 0008 10EE900A 		vmov	r0, s1
 405              	.LVL40:
  55:Core/HAL/lib/controller/mrac.c ****     mrac->x1_fdb = x1_fdb;
 406              		.loc 1 55 5 is_stmt 1 view .LVU92
 407              		.loc 1 55 18 is_stmt 0 view .LVU93
 408 000c A062     		str	r0, [r4, #40]	@ unaligned
  56:Core/HAL/lib/controller/mrac.c ****     mrac->x2_fdb = x2_fdb;
 409              		.loc 1 56 5 is_stmt 1 view .LVU94
 410              		.loc 1 56 18 is_stmt 0 view .LVU95
 411 000e 11EE103A 		vmov	r3, s2
 412 0012 2363     		str	r3, [r4, #48]	@ unaligned
  57:Core/HAL/lib/controller/mrac.c ****     if (enable == 1) {
 413              		.loc 1 57 5 is_stmt 1 view .LVU96
 414              		.loc 1 57 8 is_stmt 0 view .LVU97
 415 0014 0129     		cmp	r1, #1
 416 0016 17D0     		beq	.L25
  58:Core/HAL/lib/controller/mrac.c ****         float cosx, sinx;
  59:Core/HAL/lib/controller/mrac.c ****         cosx = cos(x1_fdb * M_PI / 180.0f);
  60:Core/HAL/lib/controller/mrac.c ****         sinx = sin(x1_fdb * M_PI / 180.0f);
  61:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x1_td, ref);
  62:Core/HAL/lib/controller/mrac.c ****         mrac->x1_ref = mrac->x1_td.x1;
  63:Core/HAL/lib/controller/mrac.c ****         mrac->x1_err = mrac->x1_ref - mrac->x1_fdb;
  64:Core/HAL/lib/controller/mrac.c **** 
  65:Core/HAL/lib/controller/mrac.c ****         mrac->integrator_sum_err += mrac->x1_err;
  66:Core/HAL/lib/controller/mrac.c ****         mrac->integrator_sum_err = sat(mrac->integrator_sum_err, -mrac->config.integrator_sum_err_m
  67:Core/HAL/lib/controller/mrac.c **** 
  68:Core/HAL/lib/controller/mrac.c ****         mrac->x2_ref = mrac->config.k1 * mrac->x1_err + mrac->x1_td.x2;
  69:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = mrac->x2_ref - mrac->x2_fdb;
  70:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x2_td, mrac->x2_ref);
  71:Core/HAL/lib/controller/mrac.c **** 
  72:Core/HAL/lib/controller/mrac.c ****         // ËæìÂá∫ËÆ°ÁÆó
  73:Core/HAL/lib/controller/mrac.c ****         mrac->output = mrac->config.k2 * mrac->x2_err +                                       // ÈÄ
  74:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha1 * mrac->x2_td.x2 +                                 // ËΩ
  75:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha2 * cosx +                                           // Èá
  76:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha3 * sinx +                                           // Èá
  77:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha4 * sgn_like(mrac->x2_fdb, 0.5) +                    // Êë
  78:Core/HAL/lib/controller/mrac.c ****                        mrac->config.integrator_ki * mrac->integrator_sum_err;                 // Êú
  79:Core/HAL/lib/controller/mrac.c ****         mrac->output = sat(mrac->output, -mrac->config.output_max, mrac->config.output_max);  // Ëæ
  80:Core/HAL/lib/controller/mrac.c **** 
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 10


  81:Core/HAL/lib/controller/mrac.c ****         // Ëæ®ËØÜËøáÁ®ã Ë∞ÉËØï‰∏≠ÁªôgammaÂæóÂà∞alphaÁßØÂàÜÔºåË∞ÉËØïÂÆåÊàêÂêé‰ΩøÁî®Áõ¥Êé•ÁªôÂÆöalpha
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha1 += mrac->dt * mrac->gamma1 * mrac->x2_err * mrac->x2_td.x2;
  83:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
  84:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha3 += mrac->dt * mrac->gamma3 * mrac->x2_err * sinx;
  85:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha4 += mrac->dt * mrac->gamma4 * mrac->x2_err * fsgn(mrac->x2_fdb);
  86:Core/HAL/lib/controller/mrac.c ****     } else {
  87:Core/HAL/lib/controller/mrac.c ****         mrac->x1_td.aim = x1_fdb;
 417              		.loc 1 87 9 is_stmt 1 view .LVU98
 418              		.loc 1 87 25 is_stmt 0 view .LVU99
 419 0018 A066     		str	r0, [r4, #104]	@ unaligned
  88:Core/HAL/lib/controller/mrac.c ****         mrac->x1_td.x1 = x1_fdb;
 420              		.loc 1 88 9 is_stmt 1 view .LVU100
 421              		.loc 1 88 24 is_stmt 0 view .LVU101
 422 001a 6065     		str	r0, [r4, #84]	@ unaligned
  89:Core/HAL/lib/controller/mrac.c ****         mrac->x1_td.x2 = 0;
 423              		.loc 1 89 9 is_stmt 1 view .LVU102
 424              		.loc 1 89 24 is_stmt 0 view .LVU103
 425 001c 0023     		movs	r3, #0
 426 001e A365     		str	r3, [r4, #88]	@ unaligned
  90:Core/HAL/lib/controller/mrac.c ****         mrac->x1_ref = x1_fdb;
 427              		.loc 1 90 9 is_stmt 1 view .LVU104
 428              		.loc 1 90 22 is_stmt 0 view .LVU105
 429 0020 6062     		str	r0, [r4, #36]	@ unaligned
  91:Core/HAL/lib/controller/mrac.c ****         mrac->x1_err = 0;
 430              		.loc 1 91 9 is_stmt 1 view .LVU106
 431              		.loc 1 91 22 is_stmt 0 view .LVU107
 432 0022 6363     		str	r3, [r4, #52]	@ unaligned
  92:Core/HAL/lib/controller/mrac.c ****         mrac->x2_td.aim = x2_fdb;
 433              		.loc 1 92 9 is_stmt 1 view .LVU108
 434              		.loc 1 92 25 is_stmt 0 view .LVU109
 435 0024 11EE103A 		vmov	r3, s2
 436 0028 C4F88430 		str	r3, [r4, #132]	@ unaligned
  93:Core/HAL/lib/controller/mrac.c ****         mrac->x2_td.x1 = x2_fdb;
 437              		.loc 1 93 9 is_stmt 1 view .LVU110
 438              		.loc 1 93 24 is_stmt 0 view .LVU111
 439 002c 2367     		str	r3, [r4, #112]	@ unaligned
  94:Core/HAL/lib/controller/mrac.c ****         mrac->x2_td.x2 = 0;
 440              		.loc 1 94 9 is_stmt 1 view .LVU112
 441              		.loc 1 94 24 is_stmt 0 view .LVU113
 442 002e 0023     		movs	r3, #0
 443 0030 6367     		str	r3, [r4, #116]	@ unaligned
  95:Core/HAL/lib/controller/mrac.c ****         mrac->x2_ref = x2_fdb;
 444              		.loc 1 95 9 is_stmt 1 view .LVU114
 445              		.loc 1 95 22 is_stmt 0 view .LVU115
 446 0032 11EE103A 		vmov	r3, s2
 447 0036 E362     		str	r3, [r4, #44]	@ unaligned
  96:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = 0;
 448              		.loc 1 96 9 is_stmt 1 view .LVU116
 449              		.loc 1 96 22 is_stmt 0 view .LVU117
 450 0038 0023     		movs	r3, #0
 451 003a A363     		str	r3, [r4, #56]	@ unaligned
  97:Core/HAL/lib/controller/mrac.c ****         mrac->output = 0;
 452              		.loc 1 97 9 is_stmt 1 view .LVU118
 453              		.loc 1 97 22 is_stmt 0 view .LVU119
 454 003c E364     		str	r3, [r4, #76]	@ unaligned
  98:Core/HAL/lib/controller/mrac.c **** 
  99:Core/HAL/lib/controller/mrac.c ****         mrac->integrator_sum_err = 0;
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 11


 455              		.loc 1 99 9 is_stmt 1 view .LVU120
 456              		.loc 1 99 34 is_stmt 0 view .LVU121
 457 003e C4F88C30 		str	r3, [r4, #140]	@ unaligned
 458              	.LVL41:
 459              	.L21:
 100:Core/HAL/lib/controller/mrac.c ****     }
 101:Core/HAL/lib/controller/mrac.c **** }
 460              		.loc 1 101 1 view .LVU122
 461 0042 BDEC068B 		vldm	sp!, {d8-d10}
 462              	.LCFI6:
 463              		.cfi_remember_state
 464              		.cfi_restore 84
 465              		.cfi_restore 85
 466              		.cfi_restore 82
 467              		.cfi_restore 83
 468              		.cfi_restore 80
 469              		.cfi_restore 81
 470              		.cfi_def_cfa_offset 8
 471 0046 10BD     		pop	{r4, pc}
 472              	.LVL42:
 473              	.L25:
 474              	.LCFI7:
 475              		.cfi_restore_state
 476              		.loc 1 101 1 view .LVU123
 477 0048 B0EE408A 		vmov.f32	s16, s0
 478              	.LBB2:
  58:Core/HAL/lib/controller/mrac.c ****         cosx = cos(x1_fdb * M_PI / 180.0f);
 479              		.loc 1 58 9 is_stmt 1 view .LVU124
  59:Core/HAL/lib/controller/mrac.c ****         sinx = sin(x1_fdb * M_PI / 180.0f);
 480              		.loc 1 59 9 view .LVU125
  59:Core/HAL/lib/controller/mrac.c ****         sinx = sin(x1_fdb * M_PI / 180.0f);
 481              		.loc 1 59 27 is_stmt 0 view .LVU126
 482 004c FFF7FEFF 		bl	__aeabi_f2d
 483              	.LVL43:
  59:Core/HAL/lib/controller/mrac.c ****         sinx = sin(x1_fdb * M_PI / 180.0f);
 484              		.loc 1 59 27 view .LVU127
 485 0050 80A3     		adr	r3, .L26+4
 486 0052 D3E90023 		ldrd	r2, [r3]
 487 0056 FFF7FEFF 		bl	__aeabi_dmul
 488              	.LVL44:
  59:Core/HAL/lib/controller/mrac.c ****         sinx = sin(x1_fdb * M_PI / 180.0f);
 489              		.loc 1 59 16 view .LVU128
 490 005a 0022     		movs	r2, #0
 491 005c 7C4B     		ldr	r3, .L26
 492 005e FFF7FEFF 		bl	__aeabi_ddiv
 493              	.LVL45:
 494 0062 41EC1A0B 		vmov	d10, r0, r1
 495 0066 41EC100B 		vmov	d0, r0, r1
 496 006a FFF7FEFF 		bl	cos
 497              	.LVL46:
 498 006e 51EC100B 		vmov	r0, r1, d0
  59:Core/HAL/lib/controller/mrac.c ****         sinx = sin(x1_fdb * M_PI / 180.0f);
 499              		.loc 1 59 14 view .LVU129
 500 0072 FFF7FEFF 		bl	__aeabi_d2f
 501              	.LVL47:
 502 0076 09EE100A 		vmov	s18, r0
 503              	.LVL48:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 12


  60:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x1_td, ref);
 504              		.loc 1 60 9 is_stmt 1 view .LVU130
  60:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x1_td, ref);
 505              		.loc 1 60 16 is_stmt 0 view .LVU131
 506 007a B0EE4A0A 		vmov.f32	s0, s20
 507 007e F0EE6A0A 		vmov.f32	s1, s21
 508 0082 FFF7FEFF 		bl	sin
 509              	.LVL49:
  60:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x1_td, ref);
 510              		.loc 1 60 16 view .LVU132
 511 0086 51EC100B 		vmov	r0, r1, d0
  60:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x1_td, ref);
 512              		.loc 1 60 14 view .LVU133
 513 008a FFF7FEFF 		bl	__aeabi_d2f
 514              	.LVL50:
 515 008e 08EE900A 		vmov	s17, r0
 516              	.LVL51:
  61:Core/HAL/lib/controller/mrac.c ****         mrac->x1_ref = mrac->x1_td.x1;
 517              		.loc 1 61 9 is_stmt 1 view .LVU134
 518 0092 B0EE480A 		vmov.f32	s0, s16
 519 0096 04F15400 		add	r0, r4, #84
 520              	.LVL52:
  61:Core/HAL/lib/controller/mrac.c ****         mrac->x1_ref = mrac->x1_td.x1;
 521              		.loc 1 61 9 is_stmt 0 view .LVU135
 522 009a FFF7FEFF 		bl	MTDFunction
 523              	.LVL53:
  62:Core/HAL/lib/controller/mrac.c ****         mrac->x1_err = mrac->x1_ref - mrac->x1_fdb;
 524              		.loc 1 62 9 is_stmt 1 view .LVU136
  62:Core/HAL/lib/controller/mrac.c ****         mrac->x1_err = mrac->x1_ref - mrac->x1_fdb;
 525              		.loc 1 62 35 is_stmt 0 view .LVU137
 526 009e 636D     		ldr	r3, [r4, #84]	@ unaligned
  62:Core/HAL/lib/controller/mrac.c ****         mrac->x1_err = mrac->x1_ref - mrac->x1_fdb;
 527              		.loc 1 62 22 view .LVU138
 528 00a0 6362     		str	r3, [r4, #36]	@ unaligned
  63:Core/HAL/lib/controller/mrac.c **** 
 529              		.loc 1 63 9 is_stmt 1 view .LVU139
  63:Core/HAL/lib/controller/mrac.c **** 
 530              		.loc 1 63 43 is_stmt 0 view .LVU140
 531 00a2 A26A     		ldr	r2, [r4, #40]	@ unaligned
 532 00a4 08EE102A 		vmov	s16, r2	@ int
 533              	.LVL54:
  63:Core/HAL/lib/controller/mrac.c **** 
 534              		.loc 1 63 37 view .LVU141
 535 00a8 07EE903A 		vmov	s15, r3
 536 00ac 37EEC88A 		vsub.f32	s16, s15, s16
  63:Core/HAL/lib/controller/mrac.c **** 
 537              		.loc 1 63 22 view .LVU142
 538 00b0 18EE103A 		vmov	r3, s16
 539 00b4 6363     		str	r3, [r4, #52]	@ unaligned
  65:Core/HAL/lib/controller/mrac.c ****         mrac->integrator_sum_err = sat(mrac->integrator_sum_err, -mrac->config.integrator_sum_err_m
 540              		.loc 1 65 9 is_stmt 1 view .LVU143
  65:Core/HAL/lib/controller/mrac.c ****         mrac->integrator_sum_err = sat(mrac->integrator_sum_err, -mrac->config.integrator_sum_err_m
 541              		.loc 1 65 34 is_stmt 0 view .LVU144
 542 00b6 D4F88C30 		ldr	r3, [r4, #140]	@ unaligned
 543 00ba 00EE103A 		vmov	s0, r3	@ int
 544 00be 38EE000A 		vadd.f32	s0, s16, s0
 545 00c2 10EE103A 		vmov	r3, s0
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 13


 546 00c6 C4F88C30 		str	r3, [r4, #140]	@ unaligned
  66:Core/HAL/lib/controller/mrac.c **** 
 547              		.loc 1 66 9 is_stmt 1 view .LVU145
  66:Core/HAL/lib/controller/mrac.c **** 
 548              		.loc 1 66 79 is_stmt 0 view .LVU146
 549 00ca 236A     		ldr	r3, [r4, #32]	@ unaligned
 550 00cc 01EE103A 		vmov	s2, r3	@ int
  66:Core/HAL/lib/controller/mrac.c **** 
 551              		.loc 1 66 36 view .LVU147
 552 00d0 F1EE410A 		vneg.f32	s1, s2
 553 00d4 FFF7FEFF 		bl	sat
 554              	.LVL55:
  66:Core/HAL/lib/controller/mrac.c **** 
 555              		.loc 1 66 34 view .LVU148
 556 00d8 10EE103A 		vmov	r3, s0
 557 00dc C4F88C30 		str	r3, [r4, #140]	@ unaligned
  68:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = mrac->x2_ref - mrac->x2_fdb;
 558              		.loc 1 68 9 is_stmt 1 view .LVU149
  68:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = mrac->x2_ref - mrac->x2_fdb;
 559              		.loc 1 68 36 is_stmt 0 view .LVU150
 560 00e0 2368     		ldr	r3, [r4]	@ unaligned
 561 00e2 00EE103A 		vmov	s0, r3	@ int
  68:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = mrac->x2_ref - mrac->x2_fdb;
 562              		.loc 1 68 40 view .LVU151
 563 00e6 28EE008A 		vmul.f32	s16, s16, s0
  68:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = mrac->x2_ref - mrac->x2_fdb;
 564              		.loc 1 68 68 view .LVU152
 565 00ea A36D     		ldr	r3, [r4, #88]	@ unaligned
 566 00ec 00EE103A 		vmov	s0, r3	@ int
  68:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = mrac->x2_ref - mrac->x2_fdb;
 567              		.loc 1 68 55 view .LVU153
 568 00f0 38EE000A 		vadd.f32	s0, s16, s0
  68:Core/HAL/lib/controller/mrac.c ****         mrac->x2_err = mrac->x2_ref - mrac->x2_fdb;
 569              		.loc 1 68 22 view .LVU154
 570 00f4 10EE103A 		vmov	r3, s0
 571 00f8 E362     		str	r3, [r4, #44]	@ unaligned
  69:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x2_td, mrac->x2_ref);
 572              		.loc 1 69 9 is_stmt 1 view .LVU155
  69:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x2_td, mrac->x2_ref);
 573              		.loc 1 69 43 is_stmt 0 view .LVU156
 574 00fa 236B     		ldr	r3, [r4, #48]	@ unaligned
  69:Core/HAL/lib/controller/mrac.c ****         MTDFunction(&mrac->x2_td, mrac->x2_ref);
 575              		.loc 1 69 22 view .LVU157
 576 00fc 07EE903A 		vmov	s15, r3
 577 0100 70EE677A 		vsub.f32	s15, s0, s15
 578 0104 17EE903A 		vmov	r3, s15
 579 0108 A363     		str	r3, [r4, #56]	@ unaligned
  70:Core/HAL/lib/controller/mrac.c **** 
 580              		.loc 1 70 9 is_stmt 1 view .LVU158
 581 010a 04F17000 		add	r0, r4, #112
 582 010e FFF7FEFF 		bl	MTDFunction
 583              	.LVL56:
  73:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha1 * mrac->x2_td.x2 +                                 // ËΩ
 584              		.loc 1 73 9 view .LVU159
  73:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha1 * mrac->x2_td.x2 +                                 // ËΩ
 585              		.loc 1 73 36 is_stmt 0 view .LVU160
 586 0112 6368     		ldr	r3, [r4, #4]	@ unaligned
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 14


 587 0114 00EE103A 		vmov	s0, r3	@ int
  73:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha1 * mrac->x2_td.x2 +                                 // ËΩ
 588              		.loc 1 73 46 view .LVU161
 589 0118 A36B     		ldr	r3, [r4, #56]	@ unaligned
 590 011a 07EE103A 		vmov	s14, r3	@ int
  73:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha1 * mrac->x2_td.x2 +                                 // ËΩ
 591              		.loc 1 73 40 view .LVU162
 592 011e 20EE077A 		vmul.f32	s14, s0, s14
  74:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha2 * cosx +                                           // Èá
 593              		.loc 1 74 36 view .LVU163
 594 0122 A368     		ldr	r3, [r4, #8]	@ unaligned
 595 0124 07EE903A 		vmov	s15, r3	@ int
  74:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha2 * cosx +                                           // Èá
 596              		.loc 1 74 57 view .LVU164
 597 0128 636F     		ldr	r3, [r4, #116]	@ unaligned
 598 012a 00EE103A 		vmov	s0, r3	@ int
  74:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha2 * cosx +                                           // Èá
 599              		.loc 1 74 44 view .LVU165
 600 012e 67EE807A 		vmul.f32	s15, s15, s0
  73:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha1 * mrac->x2_td.x2 +                                 // ËΩ
 601              		.loc 1 73 55 view .LVU166
 602 0132 37EE270A 		vadd.f32	s0, s14, s15
  75:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha3 * sinx +                                           // Èá
 603              		.loc 1 75 36 view .LVU167
 604 0136 E368     		ldr	r3, [r4, #12]	@ unaligned
 605 0138 08EE103A 		vmov	s16, r3	@ int
  75:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha3 * sinx +                                           // Èá
 606              		.loc 1 75 44 view .LVU168
 607 013c 28EE098A 		vmul.f32	s16, s16, s18
  74:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha2 * cosx +                                           // Èá
 608              		.loc 1 74 61 view .LVU169
 609 0140 70EE087A 		vadd.f32	s15, s0, s16
  76:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha4 * sgn_like(mrac->x2_fdb, 0.5) +                    // Êë
 610              		.loc 1 76 36 view .LVU170
 611 0144 2369     		ldr	r3, [r4, #16]	@ unaligned
 612 0146 08EE103A 		vmov	s16, r3	@ int
  76:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha4 * sgn_like(mrac->x2_fdb, 0.5) +                    // Êë
 613              		.loc 1 76 44 view .LVU171
 614 014a 28EE288A 		vmul.f32	s16, s16, s17
  75:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha3 * sinx +                                           // Èá
 615              		.loc 1 75 51 view .LVU172
 616 014e 37EE888A 		vadd.f32	s16, s15, s16
  77:Core/HAL/lib/controller/mrac.c ****                        mrac->config.integrator_ki * mrac->integrator_sum_err;                 // Êú
 617              		.loc 1 77 36 view .LVU173
 618 0152 6369     		ldr	r3, [r4, #20]	@ unaligned
 619 0154 0AEE103A 		vmov	s20, r3	@ int
  77:Core/HAL/lib/controller/mrac.c ****                        mrac->config.integrator_ki * mrac->integrator_sum_err;                 // Êú
 620              		.loc 1 77 46 view .LVU174
 621 0158 236B     		ldr	r3, [r4, #48]	@ unaligned
 622 015a 00EE103A 		vmov	s0, r3	@ int
 623 015e F6EE000A 		vmov.f32	s1, #5.0e-1
 624 0162 FFF7FEFF 		bl	sgn_like
 625              	.LVL57:
  77:Core/HAL/lib/controller/mrac.c ****                        mrac->config.integrator_ki * mrac->integrator_sum_err;                 // Êú
 626              		.loc 1 77 44 view .LVU175
 627 0166 2AEE000A 		vmul.f32	s0, s20, s0
  76:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha4 * sgn_like(mrac->x2_fdb, 0.5) +                    // Êë
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 15


 628              		.loc 1 76 51 view .LVU176
 629 016a 38EE008A 		vadd.f32	s16, s16, s0
  78:Core/HAL/lib/controller/mrac.c ****         mrac->output = sat(mrac->output, -mrac->config.output_max, mrac->config.output_max);  // Ëæ
 630              		.loc 1 78 36 view .LVU177
 631 016e E369     		ldr	r3, [r4, #28]	@ unaligned
 632 0170 00EE103A 		vmov	s0, r3	@ int
  78:Core/HAL/lib/controller/mrac.c ****         mrac->output = sat(mrac->output, -mrac->config.output_max, mrac->config.output_max);  // Ëæ
 633              		.loc 1 78 57 view .LVU178
 634 0174 D4F88C30 		ldr	r3, [r4, #140]	@ unaligned
  78:Core/HAL/lib/controller/mrac.c ****         mrac->output = sat(mrac->output, -mrac->config.output_max, mrac->config.output_max);  // Ëæ
 635              		.loc 1 78 51 view .LVU179
 636 0178 07EE903A 		vmov	s15, r3
 637 017c 20EE270A 		vmul.f32	s0, s0, s15
  77:Core/HAL/lib/controller/mrac.c ****                        mrac->config.integrator_ki * mrac->integrator_sum_err;                 // Êú
 638              		.loc 1 77 74 view .LVU180
 639 0180 38EE000A 		vadd.f32	s0, s16, s0
  73:Core/HAL/lib/controller/mrac.c ****                        mrac->config.alpha1 * mrac->x2_td.x2 +                                 // ËΩ
 640              		.loc 1 73 22 view .LVU181
 641 0184 10EE103A 		vmov	r3, s0
 642 0188 E364     		str	r3, [r4, #76]	@ unaligned
  79:Core/HAL/lib/controller/mrac.c **** 
 643              		.loc 1 79 9 is_stmt 1 view .LVU182
  79:Core/HAL/lib/controller/mrac.c **** 
 644              		.loc 1 79 55 is_stmt 0 view .LVU183
 645 018a A369     		ldr	r3, [r4, #24]	@ unaligned
 646 018c 01EE103A 		vmov	s2, r3	@ int
  79:Core/HAL/lib/controller/mrac.c **** 
 647              		.loc 1 79 24 view .LVU184
 648 0190 F1EE410A 		vneg.f32	s1, s2
 649 0194 FFF7FEFF 		bl	sat
 650              	.LVL58:
  79:Core/HAL/lib/controller/mrac.c **** 
 651              		.loc 1 79 22 view .LVU185
 652 0198 10EE103A 		vmov	r3, s0
 653 019c E364     		str	r3, [r4, #76]	@ unaligned
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 654              		.loc 1 82 9 is_stmt 1 view .LVU186
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 655              		.loc 1 82 36 is_stmt 0 view .LVU187
 656 019e 236D     		ldr	r3, [r4, #80]	@ unaligned
 657 01a0 06EE103A 		vmov	s12, r3	@ int
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 658              		.loc 1 82 47 view .LVU188
 659 01a4 E36B     		ldr	r3, [r4, #60]	@ unaligned
 660 01a6 07EE903A 		vmov	s15, r3	@ int
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 661              		.loc 1 82 41 view .LVU189
 662 01aa 66EE277A 		vmul.f32	s15, s12, s15
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 663              		.loc 1 82 62 view .LVU190
 664 01ae A36B     		ldr	r3, [r4, #56]	@ unaligned
 665 01b0 06EE903A 		vmov	s13, r3	@ int
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 666              		.loc 1 82 56 view .LVU191
 667 01b4 27EEA67A 		vmul.f32	s14, s15, s13
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 668              		.loc 1 82 84 view .LVU192
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 16


 669 01b8 636F     		ldr	r3, [r4, #116]	@ unaligned
 670 01ba 07EE903A 		vmov	s15, r3	@ int
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 671              		.loc 1 82 71 view .LVU193
 672 01be 67EE277A 		vmul.f32	s15, s14, s15
  82:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha2 += mrac->dt * mrac->gamma2 * mrac->x2_err * cosx;
 673              		.loc 1 82 29 view .LVU194
 674 01c2 A368     		ldr	r3, [r4, #8]	@ unaligned
 675 01c4 07EE103A 		vmov	s14, r3
 676 01c8 77EE877A 		vadd.f32	s15, s15, s14
 677 01cc 17EE903A 		vmov	r3, s15	@ int
 678 01d0 A360     		str	r3, [r4, #8]	@ unaligned
  83:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha3 += mrac->dt * mrac->gamma3 * mrac->x2_err * sinx;
 679              		.loc 1 83 9 is_stmt 1 view .LVU195
  83:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha3 += mrac->dt * mrac->gamma3 * mrac->x2_err * sinx;
 680              		.loc 1 83 47 is_stmt 0 view .LVU196
 681 01d2 236C     		ldr	r3, [r4, #64]	@ unaligned
 682 01d4 07EE903A 		vmov	s15, r3	@ int
  83:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha3 += mrac->dt * mrac->gamma3 * mrac->x2_err * sinx;
 683              		.loc 1 83 41 view .LVU197
 684 01d8 66EE277A 		vmul.f32	s15, s12, s15
  83:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha3 += mrac->dt * mrac->gamma3 * mrac->x2_err * sinx;
 685              		.loc 1 83 56 view .LVU198
 686 01dc 66EEA77A 		vmul.f32	s15, s13, s15
  83:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha3 += mrac->dt * mrac->gamma3 * mrac->x2_err * sinx;
 687              		.loc 1 83 71 view .LVU199
 688 01e0 67EE897A 		vmul.f32	s15, s15, s18
  83:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha3 += mrac->dt * mrac->gamma3 * mrac->x2_err * sinx;
 689              		.loc 1 83 29 view .LVU200
 690 01e4 E368     		ldr	r3, [r4, #12]	@ unaligned
 691 01e6 07EE103A 		vmov	s14, r3
 692 01ea 77EE877A 		vadd.f32	s15, s15, s14
 693 01ee 17EE903A 		vmov	r3, s15	@ int
 694 01f2 E360     		str	r3, [r4, #12]	@ unaligned
  84:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha4 += mrac->dt * mrac->gamma4 * mrac->x2_err * fsgn(mrac->x2_fdb);
 695              		.loc 1 84 9 is_stmt 1 view .LVU201
  84:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha4 += mrac->dt * mrac->gamma4 * mrac->x2_err * fsgn(mrac->x2_fdb);
 696              		.loc 1 84 47 is_stmt 0 view .LVU202
 697 01f4 636C     		ldr	r3, [r4, #68]	@ unaligned
 698 01f6 07EE903A 		vmov	s15, r3	@ int
  84:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha4 += mrac->dt * mrac->gamma4 * mrac->x2_err * fsgn(mrac->x2_fdb);
 699              		.loc 1 84 41 view .LVU203
 700 01fa 66EE277A 		vmul.f32	s15, s12, s15
  84:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha4 += mrac->dt * mrac->gamma4 * mrac->x2_err * fsgn(mrac->x2_fdb);
 701              		.loc 1 84 56 view .LVU204
 702 01fe 66EEA77A 		vmul.f32	s15, s13, s15
  84:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha4 += mrac->dt * mrac->gamma4 * mrac->x2_err * fsgn(mrac->x2_fdb);
 703              		.loc 1 84 71 view .LVU205
 704 0202 67EEA87A 		vmul.f32	s15, s15, s17
  84:Core/HAL/lib/controller/mrac.c ****         mrac->config.alpha4 += mrac->dt * mrac->gamma4 * mrac->x2_err * fsgn(mrac->x2_fdb);
 705              		.loc 1 84 29 view .LVU206
 706 0206 2369     		ldr	r3, [r4, #16]	@ unaligned
 707 0208 07EE103A 		vmov	s14, r3
 708 020c 77EE877A 		vadd.f32	s15, s15, s14
 709 0210 17EE903A 		vmov	r3, s15	@ int
 710 0214 2361     		str	r3, [r4, #16]	@ unaligned
  85:Core/HAL/lib/controller/mrac.c ****     } else {
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 17


 711              		.loc 1 85 9 is_stmt 1 view .LVU207
  85:Core/HAL/lib/controller/mrac.c ****     } else {
 712              		.loc 1 85 47 is_stmt 0 view .LVU208
 713 0216 A36C     		ldr	r3, [r4, #72]	@ unaligned
 714 0218 07EE903A 		vmov	s15, r3	@ int
  85:Core/HAL/lib/controller/mrac.c ****     } else {
 715              		.loc 1 85 41 view .LVU209
 716 021c 66EE277A 		vmul.f32	s15, s12, s15
  85:Core/HAL/lib/controller/mrac.c ****     } else {
 717              		.loc 1 85 56 view .LVU210
 718 0220 26EEA78A 		vmul.f32	s16, s13, s15
  85:Core/HAL/lib/controller/mrac.c ****     } else {
 719              		.loc 1 85 73 view .LVU211
 720 0224 236B     		ldr	r3, [r4, #48]	@ unaligned
 721 0226 00EE103A 		vmov	s0, r3	@ int
 722 022a FFF7FEFF 		bl	fsgn
 723              	.LVL59:
 724 022e 07EE900A 		vmov	s15, r0	@ int
  85:Core/HAL/lib/controller/mrac.c ****     } else {
 725              		.loc 1 85 71 view .LVU212
 726 0232 F8EEE77A 		vcvt.f32.s32	s15, s15
 727 0236 67EE887A 		vmul.f32	s15, s15, s16
  85:Core/HAL/lib/controller/mrac.c ****     } else {
 728              		.loc 1 85 29 view .LVU213
 729 023a 6369     		ldr	r3, [r4, #20]	@ unaligned
 730 023c 07EE103A 		vmov	s14, r3
 731 0240 77EE877A 		vadd.f32	s15, s15, s14
 732 0244 17EE903A 		vmov	r3, s15	@ int
 733 0248 6361     		str	r3, [r4, #20]	@ unaligned
 734              	.LBE2:
 735 024a FAE6     		b	.L21
 736              	.L27:
 737 024c AFF30080 		.align	3
 738              	.L26:
 739 0250 00806640 		.word	1080459264
 740 0254 1F85EB51 		.word	1374389535
 741 0258 B81E0940 		.word	1074339512
 742              		.cfi_endproc
 743              	.LFE2:
 745              		.section	.text.mrac_Init,"ax",%progbits
 746              		.align	1
 747              		.global	mrac_Init
 748              		.syntax unified
 749              		.thumb
 750              		.thumb_func
 752              	mrac_Init:
 753              	.LVL60:
 754              	.LFB3:
 102:Core/HAL/lib/controller/mrac.c **** 
 103:Core/HAL/lib/controller/mrac.c **** void mrac_Init(mrac_2d *mrac, Mrac_config *config) {
 755              		.loc 1 103 52 is_stmt 1 view -0
 756              		.cfi_startproc
 757              		@ args = 0, pretend = 0, frame = 0
 758              		@ frame_needed = 0, uses_anonymous_args = 0
 759              		.loc 1 103 52 is_stmt 0 view .LVU215
 760 0000 38B5     		push	{r3, r4, r5, lr}
 761              	.LCFI8:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 18


 762              		.cfi_def_cfa_offset 16
 763              		.cfi_offset 3, -16
 764              		.cfi_offset 4, -12
 765              		.cfi_offset 5, -8
 766              		.cfi_offset 14, -4
 767 0002 0446     		mov	r4, r0
 768 0004 0D46     		mov	r5, r1
 104:Core/HAL/lib/controller/mrac.c ****     memset(mrac, 0, sizeof(mrac_2d));  // Ê∏ÖÁ©∫ÂÜÖÂÆπ
 769              		.loc 1 104 5 is_stmt 1 view .LVU216
 770 0006 9022     		movs	r2, #144
 771 0008 0021     		movs	r1, #0
 772              	.LVL61:
 773              		.loc 1 104 5 is_stmt 0 view .LVU217
 774 000a FFF7FEFF 		bl	memset
 775              	.LVL62:
 105:Core/HAL/lib/controller/mrac.c ****     mrac->config = *config;            // config‰øÆÊîπ
 776              		.loc 1 105 5 is_stmt 1 view .LVU218
 777              		.loc 1 105 18 is_stmt 0 view .LVU219
 778 000e 2B46     		mov	r3, r5
 779 0010 2246     		mov	r2, r4
 780 0012 2035     		adds	r5, r5, #32
 781              	.LVL63:
 782              	.L29:
 783              		.loc 1 105 18 view .LVU220
 784 0014 D3F800E0 		ldr	lr, [r3]	@ unaligned
 785 0018 D3F804C0 		ldr	ip, [r3, #4]	@ unaligned
 786 001c 9868     		ldr	r0, [r3, #8]	@ unaligned
 787 001e D968     		ldr	r1, [r3, #12]	@ unaligned
 788 0020 C2F800E0 		str	lr, [r2]	@ unaligned
 789 0024 C2F804C0 		str	ip, [r2, #4]	@ unaligned
 790 0028 9060     		str	r0, [r2, #8]	@ unaligned
 791 002a D160     		str	r1, [r2, #12]	@ unaligned
 792 002c 1033     		adds	r3, r3, #16
 793 002e 1032     		adds	r2, r2, #16
 794 0030 AB42     		cmp	r3, r5
 795 0032 EFD1     		bne	.L29
 796 0034 1B68     		ldr	r3, [r3]	@ unaligned
 797 0036 1360     		str	r3, [r2]	@ unaligned
 106:Core/HAL/lib/controller/mrac.c **** 
 107:Core/HAL/lib/controller/mrac.c ****     // ÁªôÂÆöÂèÇÊï∞ ‰∏ÄËà¨Êó†ÈúÄ‰øÆÊîπ
 108:Core/HAL/lib/controller/mrac.c ****     // Ê≠£Â∏∏ÊéßÂà∂Êó∂gamma0
 109:Core/HAL/lib/controller/mrac.c ****     mrac->gamma1 = 0;
 798              		.loc 1 109 5 is_stmt 1 view .LVU221
 110:Core/HAL/lib/controller/mrac.c ****     mrac->gamma2 = 0;
 799              		.loc 1 110 5 view .LVU222
 111:Core/HAL/lib/controller/mrac.c ****     mrac->gamma3 = 0;
 800              		.loc 1 111 5 view .LVU223
 112:Core/HAL/lib/controller/mrac.c ****     mrac->gamma4 = 0;
 801              		.loc 1 112 5 view .LVU224
 113:Core/HAL/lib/controller/mrac.c ****     // dt
 114:Core/HAL/lib/controller/mrac.c ****     mrac->dt = 0.001f;
 802              		.loc 1 114 5 view .LVU225
 803              		.loc 1 114 14 is_stmt 0 view .LVU226
 804 0038 074B     		ldr	r3, .L31
 805 003a 2365     		str	r3, [r4, #80]	@ unaligned
 115:Core/HAL/lib/controller/mrac.c ****     // Ë∑üË∏™ÂæÆÂàÜÂô®ÂèÇÊï∞
 116:Core/HAL/lib/controller/mrac.c ****     mrac->x1_td.r = 8000;
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 19


 806              		.loc 1 116 5 is_stmt 1 view .LVU227
 807              		.loc 1 116 19 is_stmt 0 view .LVU228
 808 003c 074B     		ldr	r3, .L31+4
 809 003e 2366     		str	r3, [r4, #96]	@ unaligned
 117:Core/HAL/lib/controller/mrac.c ****     mrac->x1_td.h = 0.001f;
 810              		.loc 1 117 5 is_stmt 1 view .LVU229
 811              		.loc 1 117 19 is_stmt 0 view .LVU230
 812 0040 054B     		ldr	r3, .L31
 813 0042 6366     		str	r3, [r4, #100]	@ unaligned
 118:Core/HAL/lib/controller/mrac.c ****     mrac->x1_td.dt = 0.001f;
 814              		.loc 1 118 5 is_stmt 1 view .LVU231
 815              		.loc 1 118 20 is_stmt 0 view .LVU232
 816 0044 E366     		str	r3, [r4, #108]	@ unaligned
 119:Core/HAL/lib/controller/mrac.c ****     mrac->x2_td.r = 20000;
 817              		.loc 1 119 5 is_stmt 1 view .LVU233
 818              		.loc 1 119 19 is_stmt 0 view .LVU234
 819 0046 064B     		ldr	r3, .L31+8
 820 0048 E367     		str	r3, [r4, #124]	@ unaligned
 120:Core/HAL/lib/controller/mrac.c ****     mrac->x2_td.h = 0.001f;
 821              		.loc 1 120 5 is_stmt 1 view .LVU235
 822              		.loc 1 120 19 is_stmt 0 view .LVU236
 823 004a 034B     		ldr	r3, .L31
 824 004c C4F88030 		str	r3, [r4, #128]	@ unaligned
 121:Core/HAL/lib/controller/mrac.c ****     mrac->x2_td.dt = 0.001f;
 825              		.loc 1 121 5 is_stmt 1 view .LVU237
 826              		.loc 1 121 20 is_stmt 0 view .LVU238
 827 0050 C4F88830 		str	r3, [r4, #136]	@ unaligned
 122:Core/HAL/lib/controller/mrac.c ****     // tdÂàùÂßãÂåñ
 123:Core/HAL/lib/controller/mrac.c ****     mrac->x1_td.x1 = 0;
 828              		.loc 1 123 5 is_stmt 1 view .LVU239
 124:Core/HAL/lib/controller/mrac.c ****     mrac->x1_td.x2 = 0;
 829              		.loc 1 124 5 view .LVU240
 125:Core/HAL/lib/controller/mrac.c ****     mrac->x1_td.x = 0;
 830              		.loc 1 125 5 view .LVU241
 126:Core/HAL/lib/controller/mrac.c ****     mrac->x1_td.aim = 0;
 831              		.loc 1 126 5 view .LVU242
 127:Core/HAL/lib/controller/mrac.c ****     mrac->x2_td.x1 = 0;
 832              		.loc 1 127 5 view .LVU243
 128:Core/HAL/lib/controller/mrac.c ****     mrac->x2_td.x2 = 0;
 833              		.loc 1 128 5 view .LVU244
 129:Core/HAL/lib/controller/mrac.c ****     mrac->x2_td.aim = 0;
 834              		.loc 1 129 5 view .LVU245
 130:Core/HAL/lib/controller/mrac.c ****     mrac->x2_td.x = 0;
 835              		.loc 1 130 5 view .LVU246
 131:Core/HAL/lib/controller/mrac.c **** }
 836              		.loc 1 131 1 is_stmt 0 view .LVU247
 837 0054 38BD     		pop	{r3, r4, r5, pc}
 838              	.LVL64:
 839              	.L32:
 840              		.loc 1 131 1 view .LVU248
 841 0056 00BF     		.align	2
 842              	.L31:
 843 0058 6F12833A 		.word	981668463
 844 005c 0000FA45 		.word	1174011904
 845 0060 00409C46 		.word	1184645120
 846              		.cfi_endproc
 847              	.LFE3:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 20


 849              		.section	.text.mrac_SetConfig,"ax",%progbits
 850              		.align	1
 851              		.global	mrac_SetConfig
 852              		.syntax unified
 853              		.thumb
 854              		.thumb_func
 856              	mrac_SetConfig:
 857              	.LVL65:
 858              	.LFB4:
 132:Core/HAL/lib/controller/mrac.c **** 
 133:Core/HAL/lib/controller/mrac.c **** void mrac_SetConfig(Mrac_config *mrac_config, float k1, float k2, float alpha1, float alpha2,
 134:Core/HAL/lib/controller/mrac.c ****                     float alpha3, float alpha4, float output_max,
 135:Core/HAL/lib/controller/mrac.c ****                     float integrator_ki, float integrator_sum_err_max) {
 859              		.loc 1 135 72 is_stmt 1 view -0
 860              		.cfi_startproc
 861              		@ args = 0, pretend = 0, frame = 0
 862              		@ frame_needed = 0, uses_anonymous_args = 0
 863              		@ link register save eliminated.
 136:Core/HAL/lib/controller/mrac.c ****     mrac_config->k1 = k1;
 864              		.loc 1 136 5 view .LVU250
 865              		.loc 1 136 21 is_stmt 0 view .LVU251
 866 0000 10EE103A 		vmov	r3, s0
 867 0004 0360     		str	r3, [r0]	@ unaligned
 137:Core/HAL/lib/controller/mrac.c ****     mrac_config->k2 = k2;
 868              		.loc 1 137 5 is_stmt 1 view .LVU252
 869              		.loc 1 137 21 is_stmt 0 view .LVU253
 870 0006 10EE903A 		vmov	r3, s1
 871 000a 4360     		str	r3, [r0, #4]	@ unaligned
 138:Core/HAL/lib/controller/mrac.c ****     mrac_config->alpha1 = alpha1;
 872              		.loc 1 138 5 is_stmt 1 view .LVU254
 873              		.loc 1 138 25 is_stmt 0 view .LVU255
 874 000c 11EE103A 		vmov	r3, s2
 875 0010 8360     		str	r3, [r0, #8]	@ unaligned
 139:Core/HAL/lib/controller/mrac.c ****     mrac_config->alpha2 = alpha2;
 876              		.loc 1 139 5 is_stmt 1 view .LVU256
 877              		.loc 1 139 25 is_stmt 0 view .LVU257
 878 0012 11EE903A 		vmov	r3, s3
 879 0016 C360     		str	r3, [r0, #12]	@ unaligned
 140:Core/HAL/lib/controller/mrac.c ****     mrac_config->alpha3 = alpha3;
 880              		.loc 1 140 5 is_stmt 1 view .LVU258
 881              		.loc 1 140 25 is_stmt 0 view .LVU259
 882 0018 12EE103A 		vmov	r3, s4
 883 001c 0361     		str	r3, [r0, #16]	@ unaligned
 141:Core/HAL/lib/controller/mrac.c ****     mrac_config->alpha4 = alpha4;
 884              		.loc 1 141 5 is_stmt 1 view .LVU260
 885              		.loc 1 141 25 is_stmt 0 view .LVU261
 886 001e 12EE903A 		vmov	r3, s5
 887 0022 4361     		str	r3, [r0, #20]	@ unaligned
 142:Core/HAL/lib/controller/mrac.c ****     mrac_config->output_max = output_max;
 888              		.loc 1 142 5 is_stmt 1 view .LVU262
 889              		.loc 1 142 29 is_stmt 0 view .LVU263
 890 0024 13EE103A 		vmov	r3, s6
 891 0028 8361     		str	r3, [r0, #24]	@ unaligned
 143:Core/HAL/lib/controller/mrac.c ****     mrac_config->integrator_ki = integrator_ki;
 892              		.loc 1 143 5 is_stmt 1 view .LVU264
 893              		.loc 1 143 32 is_stmt 0 view .LVU265
 894 002a 13EE903A 		vmov	r3, s7
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 21


 895 002e C361     		str	r3, [r0, #28]	@ unaligned
 144:Core/HAL/lib/controller/mrac.c ****     mrac_config->integrator_sum_err_max = integrator_sum_err_max;
 896              		.loc 1 144 5 is_stmt 1 view .LVU266
 897              		.loc 1 144 41 is_stmt 0 view .LVU267
 898 0030 14EE103A 		vmov	r3, s8
 899 0034 0362     		str	r3, [r0, #32]	@ unaligned
 145:Core/HAL/lib/controller/mrac.c **** }...
 900              		.loc 1 145 1 view .LVU268
 901 0036 7047     		bx	lr
 902              		.cfi_endproc
 903              	.LFE4:
 905              		.text
 906              	.Letext0:
 907              		.file 2 "Core/HAL/lib/controller/mrac.h"
 908              		.file 3 "d:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\math.h"
 909              		.file 4 "Core/HAL/lib/common.h"
 910              		.file 5 "<built-in>"
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s 			page 22


DEFINED SYMBOLS
                            *ABS*:00000000 mrac.c
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:20     .text.sat:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:26     .text.sat:00000000 sat
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:73     .text.sat:00000030 $d
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:85     .text.MTDFunction:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:91     .text.MTDFunction:00000000 MTDFunction
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:368    .text.MTDFunction:000001b4 $d
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:375    .text.mrac_2d_calc:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:381    .text.mrac_2d_calc:00000000 mrac_2d_calc
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:739    .text.mrac_2d_calc:00000250 $d
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:746    .text.mrac_Init:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:752    .text.mrac_Init:00000000 mrac_Init
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:843    .text.mrac_Init:00000058 $d
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:850    .text.mrac_SetConfig:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\ccijyAKk.s:856    .text.mrac_SetConfig:00000000 mrac_SetConfig

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_dadd
__aeabi_d2f
__aeabi_dsub
__aeabi_i2d
sqrt
floor
fsgn
cos
sin
sgn_like
memset
