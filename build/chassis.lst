ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"chassis.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.Chassis_UARTRxCallback,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	Chassis_UARTRxCallback:
  26              	.LVL0:
  27              	.LFB172:
  28              		.file 1 "Core/APP/Chassis/chassis.c"
   1:Core/APP/Chassis/chassis.c **** #include "chassis.h"
   2:Core/APP/Chassis/chassis.c **** #include "pub_sub.h"
   3:Core/APP/Chassis/chassis.c **** #include "can_motor.h"
   4:Core/APP/Chassis/chassis.c **** #include "bsp_can.h"
   5:Core/APP/Chassis/chassis.c **** 
   6:Core/APP/Chassis/chassis.c **** #include <arm_math.h>
   7:Core/APP/Chassis/chassis.c **** #include <math.h>
   8:Core/APP/Chassis/chassis.c **** 
   9:Core/APP/Chassis/chassis.c **** #include "bsp.h"
  10:Core/APP/Chassis/chassis.c **** #include "bsp_random.h"
  11:Core/APP/Chassis/chassis.c **** #include "common.h"
  12:Core/APP/Chassis/chassis.c **** #include "controller.h"
  13:Core/APP/Chassis/chassis.c **** 
  14:Core/APP/Chassis/chassis.c **** void chassis_motor_lost(void *motor) { printf_log("chassis motor lost!\n"); }
  15:Core/APP/Chassis/chassis.c **** void chassis_imu_lost(void *motor) { printf_log("chassis IMU lost!!\n"); }
  16:Core/APP/Chassis/chassis.c **** void chassis_super_cap_lost(void *motor) { printf_log("super cap lost!!\n"); }
  17:Core/APP/Chassis/chassis.c **** 
  18:Core/APP/Chassis/chassis.c **** // é™æ€ä¿å­˜ Chassis_Create æ³¨å†Œçš„ Publisher
  19:Core/APP/Chassis/chassis.c **** static Publisher *s_chassis_cmd_pub = NULL;
  20:Core/APP/Chassis/chassis.c **** 
  21:Core/APP/Chassis/chassis.c **** // UART æŽ¥æ”¶å›žè°ƒâ€”â€”æŠŠ CAN å¸§è½¬æˆ Cmd_chassis_t å¹¶ publish
  22:Core/APP/Chassis/chassis.c **** static void Chassis_UARTRxCallback(uint8_t uart_index, uint8_t *data, uint32_t len) {
  29              		.loc 1 22 85 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 24
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  23:Core/APP/Chassis/chassis.c ****     // åªå¤„ç†æŒ‡å®š UART å’Œé•¿åº¦æ­£ç¡®çš„æ•°æ®
  24:Core/APP/Chassis/chassis.c ****     if (uart_index != UART_INDEX) return;  // æ›¿æ¢ UART_INDEX ä¸ºå®žé™…çš„ UART ç´¢å¼•
  33              		.loc 1 24 5 view .LVU1
  34              		.loc 1 24 8 is_stmt 0 view .LVU2
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 2


  35 0000 0128     		cmp	r0, #1
  36 0002 17D1     		bne	.L5
  37 0004 0B46     		mov	r3, r1
  25:Core/APP/Chassis/chassis.c ****     if (len != sizeof(Cmd_chassis)) return;  // ç¡®ä¿æŽ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦ç¬¦åˆ Cmd_chassis çš
  38              		.loc 1 25 5 is_stmt 1 view .LVU3
  39              		.loc 1 25 8 is_stmt 0 view .LVU4
  40 0006 092A     		cmp	r2, #9
  41 0008 14D1     		bne	.L5
  22:Core/APP/Chassis/chassis.c ****     // åªå¤„ç†æŒ‡å®š UART å’Œé•¿åº¦æ­£ç¡®çš„æ•°æ®
  42              		.loc 1 22 85 view .LVU5
  43 000a 10B5     		push	{r4, lr}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 8
  46              		.cfi_offset 4, -8
  47              		.cfi_offset 14, -4
  48 000c 86B0     		sub	sp, sp, #24
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 32
  26:Core/APP/Chassis/chassis.c **** 
  27:Core/APP/Chassis/chassis.c ****     // å°†æŽ¥æ”¶åˆ°çš„æ•°æ®å¤åˆ¶åˆ° Cmd_chassis ç»“æž„ä½“
  28:Core/APP/Chassis/chassis.c ****     Cmd_chassis cmd;
  51              		.loc 1 28 5 is_stmt 1 view .LVU6
  29:Core/APP/Chassis/chassis.c ****     memcpy(&cmd, data, sizeof(cmd));
  52              		.loc 1 29 5 view .LVU7
  53 000e 03AA     		add	r2, sp, #12
  54              	.LVL1:
  55              		.loc 1 29 5 is_stmt 0 view .LVU8
  56 0010 0868     		ldr	r0, [r1]	@ unaligned
  57              	.LVL2:
  58              		.loc 1 29 5 view .LVU9
  59 0012 4968     		ldr	r1, [r1, #4]	@ unaligned
  60              	.LVL3:
  61              		.loc 1 29 5 view .LVU10
  62 0014 03C2     		stmia	r2!, {r0, r1}
  63 0016 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
  64              	.LVL4:
  65              		.loc 1 29 5 view .LVU11
  66 0018 1370     		strb	r3, [r2]
  30:Core/APP/Chassis/chassis.c **** 
  31:Core/APP/Chassis/chassis.c ****     // å°†æ•°æ®å°è£…åˆ° publish_data ç»“æž„ä½“ä¸­
  32:Core/APP/Chassis/chassis.c ****     publish_data pd = {
  67              		.loc 1 32 5 is_stmt 1 view .LVU12
  68              		.loc 1 32 18 is_stmt 0 view .LVU13
  69 001a 03AB     		add	r3, sp, #12
  70 001c 0193     		str	r3, [sp, #4]
  71 001e 0923     		movs	r3, #9
  72 0020 0293     		str	r3, [sp, #8]
  33:Core/APP/Chassis/chassis.c ****         .data = (uint8_t *)&cmd,
  34:Core/APP/Chassis/chassis.c ****         .len  = sizeof(cmd)
  35:Core/APP/Chassis/chassis.c ****     };
  36:Core/APP/Chassis/chassis.c **** 
  37:Core/APP/Chassis/chassis.c ****     // å‘å¸ƒæ•°æ®åˆ°ç›¸åº”çš„å‘å¸ƒè€…
  38:Core/APP/Chassis/chassis.c ****     s_chassis_cmd_pub->publish(s_chassis_cmd_pub, pd);
  73              		.loc 1 38 5 is_stmt 1 view .LVU14
  74              		.loc 1 38 22 is_stmt 0 view .LVU15
  75 0022 054B     		ldr	r3, .L8
  76 0024 1868     		ldr	r0, [r3]
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 3


  77 0026 8468     		ldr	r4, [r0, #8]	@ unaligned
  78              		.loc 1 38 5 view .LVU16
  79 0028 01AB     		add	r3, sp, #4
  80 002a 93E80600 		ldm	r3, {r1, r2}
  81 002e A047     		blx	r4
  82              	.LVL5:
  39:Core/APP/Chassis/chassis.c **** }
  83              		.loc 1 39 1 view .LVU17
  84 0030 06B0     		add	sp, sp, #24
  85              	.LCFI2:
  86              		.cfi_def_cfa_offset 8
  87              		@ sp needed
  88 0032 10BD     		pop	{r4, pc}
  89              	.LVL6:
  90              	.L5:
  91              	.LCFI3:
  92              		.cfi_def_cfa_offset 0
  93              		.cfi_restore 4
  94              		.cfi_restore 14
  95              		.loc 1 39 1 view .LVU18
  96 0034 7047     		bx	lr
  97              	.L9:
  98 0036 00BF     		.align	2
  99              	.L8:
 100 0038 00000000 		.word	.LANCHOR0
 101              		.cfi_endproc
 102              	.LFE172:
 104              		.section	.rodata.chassis_motor_lost.str1.4,"aMS",%progbits,1
 105              		.align	2
 106              	.LC0:
 107 0000 63686173 		.ascii	"chassis motor lost!\012\000"
 107      73697320 
 107      6D6F746F 
 107      72206C6F 
 107      7374210A 
 108              		.section	.text.chassis_motor_lost,"ax",%progbits
 109              		.align	1
 110              		.global	chassis_motor_lost
 111              		.syntax unified
 112              		.thumb
 113              		.thumb_func
 115              	chassis_motor_lost:
 116              	.LVL7:
 117              	.LFB169:
  14:Core/APP/Chassis/chassis.c **** void chassis_imu_lost(void *motor) { printf_log("chassis IMU lost!!\n"); }
 118              		.loc 1 14 38 is_stmt 1 view -0
 119              		.cfi_startproc
 120              		@ args = 0, pretend = 0, frame = 0
 121              		@ frame_needed = 0, uses_anonymous_args = 0
  14:Core/APP/Chassis/chassis.c **** void chassis_imu_lost(void *motor) { printf_log("chassis IMU lost!!\n"); }
 122              		.loc 1 14 38 is_stmt 0 view .LVU20
 123 0000 08B5     		push	{r3, lr}
 124              	.LCFI4:
 125              		.cfi_def_cfa_offset 8
 126              		.cfi_offset 3, -8
 127              		.cfi_offset 14, -4
  14:Core/APP/Chassis/chassis.c **** void chassis_imu_lost(void *motor) { printf_log("chassis IMU lost!!\n"); }
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 4


 128              		.loc 1 14 40 is_stmt 1 view .LVU21
 129 0002 0248     		ldr	r0, .L12
 130              	.LVL8:
  14:Core/APP/Chassis/chassis.c **** void chassis_imu_lost(void *motor) { printf_log("chassis IMU lost!!\n"); }
 131              		.loc 1 14 40 is_stmt 0 view .LVU22
 132 0004 FFF7FEFF 		bl	printf_log
 133              	.LVL9:
  14:Core/APP/Chassis/chassis.c **** void chassis_imu_lost(void *motor) { printf_log("chassis IMU lost!!\n"); }
 134              		.loc 1 14 77 view .LVU23
 135 0008 08BD     		pop	{r3, pc}
 136              	.L13:
 137 000a 00BF     		.align	2
 138              	.L12:
 139 000c 00000000 		.word	.LC0
 140              		.cfi_endproc
 141              	.LFE169:
 143              		.section	.rodata.chassis_super_cap_lost.str1.4,"aMS",%progbits,1
 144              		.align	2
 145              	.LC1:
 146 0000 73757065 		.ascii	"super cap lost!!\012\000"
 146      72206361 
 146      70206C6F 
 146      73742121 
 146      0A00
 147              		.section	.text.chassis_super_cap_lost,"ax",%progbits
 148              		.align	1
 149              		.global	chassis_super_cap_lost
 150              		.syntax unified
 151              		.thumb
 152              		.thumb_func
 154              	chassis_super_cap_lost:
 155              	.LVL10:
 156              	.LFB171:
  16:Core/APP/Chassis/chassis.c **** 
 157              		.loc 1 16 42 is_stmt 1 view -0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 0
 160              		@ frame_needed = 0, uses_anonymous_args = 0
  16:Core/APP/Chassis/chassis.c **** 
 161              		.loc 1 16 42 is_stmt 0 view .LVU25
 162 0000 08B5     		push	{r3, lr}
 163              	.LCFI5:
 164              		.cfi_def_cfa_offset 8
 165              		.cfi_offset 3, -8
 166              		.cfi_offset 14, -4
  16:Core/APP/Chassis/chassis.c **** 
 167              		.loc 1 16 44 is_stmt 1 view .LVU26
 168 0002 0248     		ldr	r0, .L16
 169              	.LVL11:
  16:Core/APP/Chassis/chassis.c **** 
 170              		.loc 1 16 44 is_stmt 0 view .LVU27
 171 0004 FFF7FEFF 		bl	printf_log
 172              	.LVL12:
  16:Core/APP/Chassis/chassis.c **** 
 173              		.loc 1 16 78 view .LVU28
 174 0008 08BD     		pop	{r3, pc}
 175              	.L17:
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 5


 176 000a 00BF     		.align	2
 177              	.L16:
 178 000c 00000000 		.word	.LC1
 179              		.cfi_endproc
 180              	.LFE171:
 182              		.section	.rodata.chassis_imu_lost.str1.4,"aMS",%progbits,1
 183              		.align	2
 184              	.LC2:
 185 0000 63686173 		.ascii	"chassis IMU lost!!\012\000"
 185      73697320 
 185      494D5520 
 185      6C6F7374 
 185      21210A00 
 186              		.section	.text.chassis_imu_lost,"ax",%progbits
 187              		.align	1
 188              		.global	chassis_imu_lost
 189              		.syntax unified
 190              		.thumb
 191              		.thumb_func
 193              	chassis_imu_lost:
 194              	.LVL13:
 195              	.LFB170:
  15:Core/APP/Chassis/chassis.c **** void chassis_super_cap_lost(void *motor) { printf_log("super cap lost!!\n"); }
 196              		.loc 1 15 36 is_stmt 1 view -0
 197              		.cfi_startproc
 198              		@ args = 0, pretend = 0, frame = 0
 199              		@ frame_needed = 0, uses_anonymous_args = 0
  15:Core/APP/Chassis/chassis.c **** void chassis_super_cap_lost(void *motor) { printf_log("super cap lost!!\n"); }
 200              		.loc 1 15 36 is_stmt 0 view .LVU30
 201 0000 08B5     		push	{r3, lr}
 202              	.LCFI6:
 203              		.cfi_def_cfa_offset 8
 204              		.cfi_offset 3, -8
 205              		.cfi_offset 14, -4
  15:Core/APP/Chassis/chassis.c **** void chassis_super_cap_lost(void *motor) { printf_log("super cap lost!!\n"); }
 206              		.loc 1 15 38 is_stmt 1 view .LVU31
 207 0002 0248     		ldr	r0, .L20
 208              	.LVL14:
  15:Core/APP/Chassis/chassis.c **** void chassis_super_cap_lost(void *motor) { printf_log("super cap lost!!\n"); }
 209              		.loc 1 15 38 is_stmt 0 view .LVU32
 210 0004 FFF7FEFF 		bl	printf_log
 211              	.LVL15:
  15:Core/APP/Chassis/chassis.c **** void chassis_super_cap_lost(void *motor) { printf_log("super cap lost!!\n"); }
 212              		.loc 1 15 74 view .LVU33
 213 0008 08BD     		pop	{r3, pc}
 214              	.L21:
 215 000a 00BF     		.align	2
 216              	.L20:
 217 000c 00000000 		.word	.LC2
 218              		.cfi_endproc
 219              	.LFE170:
 221              		.section	.rodata.Chassis_Create.str1.4,"aMS",%progbits,1
 222              		.align	2
 223              	.LC3:
 224 0000 63686173 		.ascii	"chassis_cmd\000"
 224      7369735F 
 224      636D6400 
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 6


 225              		.section	.text.Chassis_Create,"ax",%progbits
 226              		.align	1
 227              		.global	Chassis_Create
 228              		.syntax unified
 229              		.thumb
 230              		.thumb_func
 232              	Chassis_Create:
 233              	.LFB173:
  40:Core/APP/Chassis/chassis.c **** 
  41:Core/APP/Chassis/chassis.c **** Chassis *Chassis_Create() {
 234              		.loc 1 41 27 is_stmt 1 view -0
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 1552
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 238 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 239              	.LCFI7:
 240              		.cfi_def_cfa_offset 24
 241              		.cfi_offset 4, -24
 242              		.cfi_offset 5, -20
 243              		.cfi_offset 6, -16
 244              		.cfi_offset 7, -12
 245              		.cfi_offset 8, -8
 246              		.cfi_offset 14, -4
 247 0004 2DED028B 		vpush.64	{d8}
 248              	.LCFI8:
 249              		.cfi_def_cfa_offset 32
 250              		.cfi_offset 80, -32
 251              		.cfi_offset 81, -28
 252 0008 ADF5C26D 		sub	sp, sp, #1552
 253              	.LCFI9:
 254              		.cfi_def_cfa_offset 1584
  42:Core/APP/Chassis/chassis.c ****     Chassis *obj = (Chassis *)malloc(sizeof(Chassis));
 255              		.loc 1 42 5 view .LVU35
 256              		.loc 1 42 31 is_stmt 0 view .LVU36
 257 000c 3420     		movs	r0, #52
 258 000e FFF7FEFF 		bl	malloc
 259              	.LVL16:
 260 0012 0546     		mov	r5, r0
 261              	.LVL17:
  43:Core/APP/Chassis/chassis.c ****     memset(obj, 0, sizeof(Chassis));
 262              		.loc 1 43 5 is_stmt 1 view .LVU37
 263 0014 3422     		movs	r2, #52
 264 0016 0021     		movs	r1, #0
 265 0018 FFF7FEFF 		bl	memset
 266              	.LVL18:
  44:Core/APP/Chassis/chassis.c **** 
  45:Core/APP/Chassis/chassis.c ****     obj->offset_x = CHASSIS_ROTATE_X_OFFSET;
 267              		.loc 1 45 5 view .LVU38
  46:Core/APP/Chassis/chassis.c ****     obj->offset_y = CHASSIS_ROTATE_Y_OFFSET;
 268              		.loc 1 46 5 view .LVU39
  47:Core/APP/Chassis/chassis.c **** 
  48:Core/APP/Chassis/chassis.c ****     // è¶…çº§ç”µå®¹
  49:Core/APP/Chassis/chassis.c ****     super_cap_wuli_config cap_config;
 269              		.loc 1 49 5 view .LVU40
  50:Core/APP/Chassis/chassis.c ****     cap_config.bsp_can_index = 0;
 270              		.loc 1 50 5 view .LVU41
 271              		.loc 1 50 30 is_stmt 0 view .LVU42
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 7


 272 001c 0024     		movs	r4, #0
 273 001e 8DF80446 		strb	r4, [sp, #1540]
  51:Core/APP/Chassis/chassis.c ****     cap_config.super_cap_wuli_rx_id = SUPER_CAP_WULI_RX_ID;
 274              		.loc 1 51 5 is_stmt 1 view .LVU43
 275              		.loc 1 51 37 is_stmt 0 view .LVU44
 276 0022 1123     		movs	r3, #17
 277 0024 8DF80736 		strb	r3, [sp, #1543]
 278 0028 0223     		movs	r3, #2
 279 002a 8DF80836 		strb	r3, [sp, #1544]
  52:Core/APP/Chassis/chassis.c ****     cap_config.super_cap_wuli_tx_id = SUPER_CAP_WULI_TX_ID;
 280              		.loc 1 52 5 is_stmt 1 view .LVU45
 281              		.loc 1 52 37 is_stmt 0 view .LVU46
 282 002e 1022     		movs	r2, #16
 283 0030 8DF80526 		strb	r2, [sp, #1541]
 284 0034 8DF80636 		strb	r3, [sp, #1542]
  53:Core/APP/Chassis/chassis.c ****     cap_config.lost_callback = chassis_super_cap_lost;
 285              		.loc 1 53 5 is_stmt 1 view .LVU47
 286              		.loc 1 53 30 is_stmt 0 view .LVU48
 287 0038 824B     		ldr	r3, .L24
 288 003a CDF80936 		str	r3, [sp, #1545]	@ unaligned
  54:Core/APP/Chassis/chassis.c ****     obj->super_cap = Super_cap_wuli_Create(&cap_config);
 289              		.loc 1 54 5 is_stmt 1 view .LVU49
 290              		.loc 1 54 22 is_stmt 0 view .LVU50
 291 003e 0DF20460 		addw	r0, sp, #1540
 292 0042 FFF7FEFF 		bl	Super_cap_wuli_Create
 293              	.LVL19:
 294              		.loc 1 54 20 view .LVU51
 295 0046 2860     		str	r0, [r5]	@ unaligned
  55:Core/APP/Chassis/chassis.c **** 
  56:Core/APP/Chassis/chassis.c ****     // åº•ç›˜æœºæž„å‚æ•°åˆå§‹åŒ–
  57:Core/APP/Chassis/chassis.c ****     can_motor_config lf_config;
 296              		.loc 1 57 5 is_stmt 1 view .LVU52
  58:Core/APP/Chassis/chassis.c ****     can_motor_config rf_config;
 297              		.loc 1 58 5 view .LVU53
  59:Core/APP/Chassis/chassis.c ****     can_motor_config lb_config;
 298              		.loc 1 59 5 view .LVU54
  60:Core/APP/Chassis/chassis.c ****     can_motor_config rb_config;
 299              		.loc 1 60 5 view .LVU55
  61:Core/APP/Chassis/chassis.c ****     controller_config lf_controller_config;
 300              		.loc 1 61 5 view .LVU56
  62:Core/APP/Chassis/chassis.c ****     controller_config rf_controller_config;
 301              		.loc 1 62 5 view .LVU57
  63:Core/APP/Chassis/chassis.c ****     controller_config lb_controller_config;
 302              		.loc 1 63 5 view .LVU58
  64:Core/APP/Chassis/chassis.c ****     controller_config rb_controller_config;
 303              		.loc 1 64 5 view .LVU59
  65:Core/APP/Chassis/chassis.c ****     // lf
  66:Core/APP/Chassis/chassis.c ****     memset(&lf_controller_config, 0, sizeof(controller_config));
 304              		.loc 1 66 5 view .LVU60
 305 0048 B526     		movs	r6, #181
 306 004a 3246     		mov	r2, r6
 307 004c 2146     		mov	r1, r4
 308 004e 8BA8     		add	r0, sp, #556
 309 0050 FFF7FEFF 		bl	memset
 310              	.LVL20:
  67:Core/APP/Chassis/chassis.c ****     CLASSIC_PID_Setconfig(&lf_controller_config, 4.5, 3, 0, 0, 15000, 0, 0);
 311              		.loc 1 67 5 view .LVU61
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 8


 312 0054 9FED7C8A 		vldr.32	s16, .L24+4
 313 0058 DFED7C8A 		vldr.32	s17, .L24+8
 314 005c B0EE483A 		vmov.f32	s6, s16
 315 0060 F0EE482A 		vmov.f32	s5, s16
 316 0064 B0EE682A 		vmov.f32	s4, s17
 317 0068 F0EE481A 		vmov.f32	s3, s16
 318 006c B0EE481A 		vmov.f32	s2, s16
 319 0070 F0EE080A 		vmov.f32	s1, #3.0e+0
 320 0074 B1EE020A 		vmov.f32	s0, #4.5e+0
 321 0078 8BA8     		add	r0, sp, #556
 322 007a FFF7FEFF 		bl	CLASSIC_PID_Setconfig
 323              	.LVL21:
  68:Core/APP/Chassis/chassis.c ****     lf_config.motor_model = MODEL_3508;
 324              		.loc 1 68 5 view .LVU62
 325              		.loc 1 68 27 is_stmt 0 view .LVU63
 326 007e 8DF83E45 		strb	r4, [sp, #1342]
  69:Core/APP/Chassis/chassis.c ****     lf_config.bsp_can_index = 0;
 327              		.loc 1 69 5 is_stmt 1 view .LVU64
 328              		.loc 1 69 29 is_stmt 0 view .LVU65
 329 0082 8DF83C45 		strb	r4, [sp, #1340]
  70:Core/APP/Chassis/chassis.c ****     lf_config.motor_set_id = 1;
 330              		.loc 1 70 5 is_stmt 1 view .LVU66
 331              		.loc 1 70 28 is_stmt 0 view .LVU67
 332 0086 0127     		movs	r7, #1
 333 0088 8DF83D75 		strb	r7, [sp, #1341]
  71:Core/APP/Chassis/chassis.c ****     lf_config.motor_controller_config = lf_controller_config;
 334              		.loc 1 71 5 is_stmt 1 view .LVU68
 335              		.loc 1 71 39 is_stmt 0 view .LVU69
 336 008c 3246     		mov	r2, r6
 337 008e 8BA9     		add	r1, sp, #556
 338 0090 0DF23F50 		addw	r0, sp, #1343
 339 0094 FFF7FEFF 		bl	memcpy
 340              	.LVL22:
  72:Core/APP/Chassis/chassis.c ****     lf_config.position_fdb_model = MOTOR_FDB;
 341              		.loc 1 72 5 is_stmt 1 view .LVU70
 342              		.loc 1 72 34 is_stmt 0 view .LVU71
 343 0098 8DF8F445 		strb	r4, [sp, #1524]
  73:Core/APP/Chassis/chassis.c ****     lf_config.speed_fdb_model = MOTOR_FDB;
 344              		.loc 1 73 5 is_stmt 1 view .LVU72
 345              		.loc 1 73 31 is_stmt 0 view .LVU73
 346 009c 8DF8F545 		strb	r4, [sp, #1525]
  74:Core/APP/Chassis/chassis.c ****     lf_config.output_model = MOTOR_OUTPUT_NORMAL;
 347              		.loc 1 74 5 is_stmt 1 view .LVU74
 348              		.loc 1 74 28 is_stmt 0 view .LVU75
 349 00a0 8DF8F645 		strb	r4, [sp, #1526]
  75:Core/APP/Chassis/chassis.c ****     lf_config.lost_callback = chassis_motor_lost;
 350              		.loc 1 75 5 is_stmt 1 view .LVU76
 351              		.loc 1 75 29 is_stmt 0 view .LVU77
 352 00a4 DFF8BC81 		ldr	r8, .L24+32
 353 00a8 CDF80086 		str	r8, [sp, #1536]
  76:Core/APP/Chassis/chassis.c ****     obj->lf = Can_Motor_Create(&lf_config);
 354              		.loc 1 76 5 is_stmt 1 view .LVU78
 355              		.loc 1 76 15 is_stmt 0 view .LVU79
 356 00ac 0DF23C50 		addw	r0, sp, #1340
 357 00b0 FFF7FEFF 		bl	Can_Motor_Create
 358              	.LVL23:
 359              		.loc 1 76 13 view .LVU80
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 9


 360 00b4 6860     		str	r0, [r5, #4]	@ unaligned
  77:Core/APP/Chassis/chassis.c **** 
  78:Core/APP/Chassis/chassis.c ****     // lb
  79:Core/APP/Chassis/chassis.c ****     memset(&lb_controller_config, 0, sizeof(controller_config));
 361              		.loc 1 79 5 is_stmt 1 view .LVU81
 362 00b6 3246     		mov	r2, r6
 363 00b8 2146     		mov	r1, r4
 364 00ba 2FA8     		add	r0, sp, #188
 365 00bc FFF7FEFF 		bl	memset
 366              	.LVL24:
  80:Core/APP/Chassis/chassis.c ****     CLASSIC_PID_Setconfig(&lb_controller_config, 4, 2, 0, 0, 15000, 0, 0);
 367              		.loc 1 80 5 view .LVU82
 368 00c0 B0EE483A 		vmov.f32	s6, s16
 369 00c4 F0EE482A 		vmov.f32	s5, s16
 370 00c8 B0EE682A 		vmov.f32	s4, s17
 371 00cc F0EE481A 		vmov.f32	s3, s16
 372 00d0 B0EE481A 		vmov.f32	s2, s16
 373 00d4 F0EE000A 		vmov.f32	s1, #2.0e+0
 374 00d8 B1EE000A 		vmov.f32	s0, #4.0e+0
 375 00dc 2FA8     		add	r0, sp, #188
 376 00de FFF7FEFF 		bl	CLASSIC_PID_Setconfig
 377              	.LVL25:
  81:Core/APP/Chassis/chassis.c ****     lb_config.motor_model = MODEL_3508;
 378              		.loc 1 81 5 view .LVU83
 379              		.loc 1 81 27 is_stmt 0 view .LVU84
 380 00e2 8DF8AE43 		strb	r4, [sp, #942]
  82:Core/APP/Chassis/chassis.c ****     lb_config.bsp_can_index = 0;
 381              		.loc 1 82 5 is_stmt 1 view .LVU85
 382              		.loc 1 82 29 is_stmt 0 view .LVU86
 383 00e6 8DF8AC43 		strb	r4, [sp, #940]
  83:Core/APP/Chassis/chassis.c ****     lb_config.motor_set_id = 2;
 384              		.loc 1 83 5 is_stmt 1 view .LVU87
 385              		.loc 1 83 28 is_stmt 0 view .LVU88
 386 00ea 0223     		movs	r3, #2
 387 00ec 8DF8AD33 		strb	r3, [sp, #941]
  84:Core/APP/Chassis/chassis.c ****     lb_config.motor_controller_config = lb_controller_config;
 388              		.loc 1 84 5 is_stmt 1 view .LVU89
 389              		.loc 1 84 39 is_stmt 0 view .LVU90
 390 00f0 3246     		mov	r2, r6
 391 00f2 2FA9     		add	r1, sp, #188
 392 00f4 0DF2AF30 		addw	r0, sp, #943
 393 00f8 FFF7FEFF 		bl	memcpy
 394              	.LVL26:
  85:Core/APP/Chassis/chassis.c ****     lb_config.position_fdb_model = MOTOR_FDB;
 395              		.loc 1 85 5 is_stmt 1 view .LVU91
 396              		.loc 1 85 34 is_stmt 0 view .LVU92
 397 00fc 8DF86444 		strb	r4, [sp, #1124]
  86:Core/APP/Chassis/chassis.c ****     lb_config.speed_fdb_model = MOTOR_FDB;
 398              		.loc 1 86 5 is_stmt 1 view .LVU93
 399              		.loc 1 86 31 is_stmt 0 view .LVU94
 400 0100 8DF86544 		strb	r4, [sp, #1125]
  87:Core/APP/Chassis/chassis.c ****     lb_config.output_model = MOTOR_OUTPUT_NORMAL;
 401              		.loc 1 87 5 is_stmt 1 view .LVU95
 402              		.loc 1 87 28 is_stmt 0 view .LVU96
 403 0104 8DF86644 		strb	r4, [sp, #1126]
  88:Core/APP/Chassis/chassis.c ****     lb_config.lost_callback = chassis_motor_lost;
 404              		.loc 1 88 5 is_stmt 1 view .LVU97
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 10


 405              		.loc 1 88 29 is_stmt 0 view .LVU98
 406 0108 CDF87084 		str	r8, [sp, #1136]
  89:Core/APP/Chassis/chassis.c ****     obj->lb = Can_Motor_Create(&lb_config);
 407              		.loc 1 89 5 is_stmt 1 view .LVU99
 408              		.loc 1 89 15 is_stmt 0 view .LVU100
 409 010c EBA8     		add	r0, sp, #940
 410 010e FFF7FEFF 		bl	Can_Motor_Create
 411              	.LVL27:
 412              		.loc 1 89 13 view .LVU101
 413 0112 E860     		str	r0, [r5, #12]	@ unaligned
  90:Core/APP/Chassis/chassis.c **** 
  91:Core/APP/Chassis/chassis.c ****     // rb
  92:Core/APP/Chassis/chassis.c ****     memset(&rb_controller_config, 0, sizeof(controller_config));
 414              		.loc 1 92 5 is_stmt 1 view .LVU102
 415 0114 3246     		mov	r2, r6
 416 0116 2146     		mov	r1, r4
 417 0118 01A8     		add	r0, sp, #4
 418 011a FFF7FEFF 		bl	memset
 419              	.LVL28:
  93:Core/APP/Chassis/chassis.c ****     CLASSIC_PID_Setconfig(&rb_controller_config, 4.5, 2, 0, 0, 15000, 0, 0);
 420              		.loc 1 93 5 view .LVU103
 421 011e B0EE483A 		vmov.f32	s6, s16
 422 0122 F0EE482A 		vmov.f32	s5, s16
 423 0126 B0EE682A 		vmov.f32	s4, s17
 424 012a F0EE481A 		vmov.f32	s3, s16
 425 012e B0EE481A 		vmov.f32	s2, s16
 426 0132 F0EE000A 		vmov.f32	s1, #2.0e+0
 427 0136 B1EE020A 		vmov.f32	s0, #4.5e+0
 428 013a 01A8     		add	r0, sp, #4
 429 013c FFF7FEFF 		bl	CLASSIC_PID_Setconfig
 430              	.LVL29:
  94:Core/APP/Chassis/chassis.c ****     rb_config.motor_model = MODEL_3508;
 431              		.loc 1 94 5 view .LVU104
 432              		.loc 1 94 27 is_stmt 0 view .LVU105
 433 0140 8DF8E642 		strb	r4, [sp, #742]
  95:Core/APP/Chassis/chassis.c ****     rb_config.bsp_can_index = 0;
 434              		.loc 1 95 5 is_stmt 1 view .LVU106
 435              		.loc 1 95 29 is_stmt 0 view .LVU107
 436 0144 8DF8E442 		strb	r4, [sp, #740]
  96:Core/APP/Chassis/chassis.c ****     rb_config.motor_set_id = 3;
 437              		.loc 1 96 5 is_stmt 1 view .LVU108
 438              		.loc 1 96 28 is_stmt 0 view .LVU109
 439 0148 0323     		movs	r3, #3
 440 014a 8DF8E532 		strb	r3, [sp, #741]
  97:Core/APP/Chassis/chassis.c ****     rb_config.motor_controller_config = rb_controller_config;
 441              		.loc 1 97 5 is_stmt 1 view .LVU110
 442              		.loc 1 97 39 is_stmt 0 view .LVU111
 443 014e 3246     		mov	r2, r6
 444 0150 01A9     		add	r1, sp, #4
 445 0152 0DF2E720 		addw	r0, sp, #743
 446 0156 FFF7FEFF 		bl	memcpy
 447              	.LVL30:
  98:Core/APP/Chassis/chassis.c ****     rb_config.position_fdb_model = MOTOR_FDB;
 448              		.loc 1 98 5 is_stmt 1 view .LVU112
 449              		.loc 1 98 34 is_stmt 0 view .LVU113
 450 015a 8DF89C43 		strb	r4, [sp, #924]
  99:Core/APP/Chassis/chassis.c ****     rb_config.speed_fdb_model = MOTOR_FDB;
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 11


 451              		.loc 1 99 5 is_stmt 1 view .LVU114
 452              		.loc 1 99 31 is_stmt 0 view .LVU115
 453 015e 8DF89D43 		strb	r4, [sp, #925]
 100:Core/APP/Chassis/chassis.c ****     rb_config.output_model = MOTOR_OUTPUT_NORMAL;
 454              		.loc 1 100 5 is_stmt 1 view .LVU116
 455              		.loc 1 100 28 is_stmt 0 view .LVU117
 456 0162 8DF89E43 		strb	r4, [sp, #926]
 101:Core/APP/Chassis/chassis.c ****     rb_config.lost_callback = chassis_motor_lost;
 457              		.loc 1 101 5 is_stmt 1 view .LVU118
 458              		.loc 1 101 29 is_stmt 0 view .LVU119
 459 0166 CDF8A883 		str	r8, [sp, #936]
 102:Core/APP/Chassis/chassis.c ****     obj->rb = Can_Motor_Create(&rb_config);
 460              		.loc 1 102 5 is_stmt 1 view .LVU120
 461              		.loc 1 102 15 is_stmt 0 view .LVU121
 462 016a B9A8     		add	r0, sp, #740
 463 016c FFF7FEFF 		bl	Can_Motor_Create
 464              	.LVL31:
 465              		.loc 1 102 13 view .LVU122
 466 0170 2861     		str	r0, [r5, #16]	@ unaligned
 103:Core/APP/Chassis/chassis.c **** 
 104:Core/APP/Chassis/chassis.c ****     // rf
 105:Core/APP/Chassis/chassis.c ****     memset(&rf_controller_config, 0, sizeof(controller_config));
 467              		.loc 1 105 5 is_stmt 1 view .LVU123
 468 0172 3246     		mov	r2, r6
 469 0174 2146     		mov	r1, r4
 470 0176 5DA8     		add	r0, sp, #372
 471 0178 FFF7FEFF 		bl	memset
 472              	.LVL32:
 106:Core/APP/Chassis/chassis.c ****     CLASSIC_PID_Setconfig(&rf_controller_config, 4, 3, 0, 0, 15000, 0, 0);
 473              		.loc 1 106 5 view .LVU124
 474 017c B0EE483A 		vmov.f32	s6, s16
 475 0180 F0EE482A 		vmov.f32	s5, s16
 476 0184 B0EE682A 		vmov.f32	s4, s17
 477 0188 F0EE481A 		vmov.f32	s3, s16
 478 018c B0EE481A 		vmov.f32	s2, s16
 479 0190 F0EE080A 		vmov.f32	s1, #3.0e+0
 480 0194 B1EE000A 		vmov.f32	s0, #4.0e+0
 481 0198 5DA8     		add	r0, sp, #372
 482 019a FFF7FEFF 		bl	CLASSIC_PID_Setconfig
 483              	.LVL33:
 107:Core/APP/Chassis/chassis.c ****     rf_config.motor_model = MODEL_3508;
 484              		.loc 1 107 5 view .LVU125
 485              		.loc 1 107 27 is_stmt 0 view .LVU126
 486 019e 8DF87644 		strb	r4, [sp, #1142]
 108:Core/APP/Chassis/chassis.c ****     rf_config.bsp_can_index = 0;
 487              		.loc 1 108 5 is_stmt 1 view .LVU127
 488              		.loc 1 108 29 is_stmt 0 view .LVU128
 489 01a2 8DF87444 		strb	r4, [sp, #1140]
 109:Core/APP/Chassis/chassis.c ****     rf_config.motor_set_id = 4;
 490              		.loc 1 109 5 is_stmt 1 view .LVU129
 491              		.loc 1 109 28 is_stmt 0 view .LVU130
 492 01a6 0423     		movs	r3, #4
 493 01a8 8DF87534 		strb	r3, [sp, #1141]
 110:Core/APP/Chassis/chassis.c ****     rf_config.motor_controller_config = rf_controller_config;
 494              		.loc 1 110 5 is_stmt 1 view .LVU131
 495              		.loc 1 110 39 is_stmt 0 view .LVU132
 496 01ac 3246     		mov	r2, r6
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 12


 497 01ae 5DA9     		add	r1, sp, #372
 498 01b0 0DF27740 		addw	r0, sp, #1143
 499 01b4 FFF7FEFF 		bl	memcpy
 500              	.LVL34:
 111:Core/APP/Chassis/chassis.c ****     rf_config.position_fdb_model = MOTOR_FDB;
 501              		.loc 1 111 5 is_stmt 1 view .LVU133
 502              		.loc 1 111 34 is_stmt 0 view .LVU134
 503 01b8 8DF82C45 		strb	r4, [sp, #1324]
 112:Core/APP/Chassis/chassis.c ****     rf_config.speed_fdb_model = MOTOR_FDB;
 504              		.loc 1 112 5 is_stmt 1 view .LVU135
 505              		.loc 1 112 31 is_stmt 0 view .LVU136
 506 01bc 8DF82D45 		strb	r4, [sp, #1325]
 113:Core/APP/Chassis/chassis.c ****     rf_config.output_model = MOTOR_OUTPUT_NORMAL;
 507              		.loc 1 113 5 is_stmt 1 view .LVU137
 508              		.loc 1 113 28 is_stmt 0 view .LVU138
 509 01c0 8DF82E45 		strb	r4, [sp, #1326]
 114:Core/APP/Chassis/chassis.c ****     rf_config.lost_callback = chassis_motor_lost;
 510              		.loc 1 114 5 is_stmt 1 view .LVU139
 511              		.loc 1 114 29 is_stmt 0 view .LVU140
 512 01c4 CDF83885 		str	r8, [sp, #1336]
 115:Core/APP/Chassis/chassis.c ****     obj->rf = Can_Motor_Create(&rf_config);
 513              		.loc 1 115 5 is_stmt 1 view .LVU141
 514              		.loc 1 115 15 is_stmt 0 view .LVU142
 515 01c8 0DF27440 		addw	r0, sp, #1140
 516 01cc FFF7FEFF 		bl	Can_Motor_Create
 517              	.LVL35:
 518              		.loc 1 115 13 view .LVU143
 519 01d0 A860     		str	r0, [r5, #8]	@ unaligned
 116:Core/APP/Chassis/chassis.c ****     
 117:Core/APP/Chassis/chassis.c ****     /*æ­¤å¤„é—®é¢˜åœ¨äºŽå¦‚ä½•ä¼ å…¥ç›®æ ‡é€Ÿåº¦ä»¥åŠä¼ å‡ºå®žé™…é€Ÿåº¦*/
 118:Core/APP/Chassis/chassis.c ****     //è¿åŠ¨å­¦è§£ç®—ç»™ç”µæœºèµ‹å€¼
 119:Core/APP/Chassis/chassis.c ****     float set_speedL;
 520              		.loc 1 119 5 is_stmt 1 view .LVU144
 120:Core/APP/Chassis/chassis.c ****     float set_speedR;
 521              		.loc 1 120 5 view .LVU145
 121:Core/APP/Chassis/chassis.c ****     float Vcx = 40;//ç»™å…¥ç›®æ ‡é€Ÿåº¦ä¸Žè§’é€Ÿåº¦ï¼Œå‰è¿›å’Œé€†æ—¶é’ˆä¸ºæ­£æ–¹å‘
 522              		.loc 1 121 5 view .LVU146
 523              	.LVL36:
 122:Core/APP/Chassis/chassis.c ****     float Wc = 60;
 524              		.loc 1 122 5 view .LVU147
 123:Core/APP/Chassis/chassis.c ****     float C = 0.5;
 525              		.loc 1 123 5 view .LVU148
 124:Core/APP/Chassis/chassis.c ****     float r = 0.1;
 526              		.loc 1 124 5 view .LVU149
 125:Core/APP/Chassis/chassis.c ****     set_speedL= (2*Vcx-Wc*C)/(2*r);//ref_speedå•ä½æ˜¯m/s
 527              		.loc 1 125 5 view .LVU150
 126:Core/APP/Chassis/chassis.c ****     set_speedR= (2*Vcx+Wc*C)/(2*r);
 528              		.loc 1 126 5 view .LVU151
 127:Core/APP/Chassis/chassis.c **** 
 128:Core/APP/Chassis/chassis.c ****     //ä¸‹é¢éƒ¨åˆ†ç›´æŽ¥å¯¹å››ä¸ªè½®å­è¿›è¡Œèµ‹å€¼
 129:Core/APP/Chassis/chassis.c ****     // //ä¸‹é¢éƒ¨åˆ†ç”¨è¿åŠ¨å­¦åˆ†æžè®¡ç®—å„ä¸ªç”µæœºçš„ref_speedé¢„æœŸé€Ÿåº¦+rosé”®ç›˜æŽ§åˆ¶
 130:Core/APP/Chassis/chassis.c ****     obj->lf->enable = MOTOR_ENABLE;
 529              		.loc 1 130 5 view .LVU152
 530              		.loc 1 130 8 is_stmt 0 view .LVU153
 531 01d2 6B68     		ldr	r3, [r5, #4]	@ unaligned
 532              		.loc 1 130 21 view .LVU154
 533 01d4 83F8C870 		strb	r7, [r3, #200]
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 13


 131:Core/APP/Chassis/chassis.c ****     obj->lf->motor_controller->ref_speed = set_speedL;
 534              		.loc 1 131 5 is_stmt 1 view .LVU155
 535              		.loc 1 131 8 is_stmt 0 view .LVU156
 536 01d8 6B68     		ldr	r3, [r5, #4]	@ unaligned
 537              		.loc 1 131 12 view .LVU157
 538 01da D3F8E430 		ldr	r3, [r3, #228]
 539              		.loc 1 131 42 view .LVU158
 540 01de 1C4A     		ldr	r2, .L24+12
 541 01e0 C3F85921 		str	r2, [r3, #345]	@ unaligned
 132:Core/APP/Chassis/chassis.c ****     obj->lb->enable = MOTOR_ENABLE;
 542              		.loc 1 132 5 is_stmt 1 view .LVU159
 543              		.loc 1 132 8 is_stmt 0 view .LVU160
 544 01e4 EB68     		ldr	r3, [r5, #12]	@ unaligned
 545              		.loc 1 132 21 view .LVU161
 546 01e6 83F8C870 		strb	r7, [r3, #200]
 133:Core/APP/Chassis/chassis.c ****     obj->lb->motor_controller->ref_speed = set_speedL;
 547              		.loc 1 133 5 is_stmt 1 view .LVU162
 548              		.loc 1 133 8 is_stmt 0 view .LVU163
 549 01ea EB68     		ldr	r3, [r5, #12]	@ unaligned
 550              		.loc 1 133 12 view .LVU164
 551 01ec D3F8E430 		ldr	r3, [r3, #228]
 552              		.loc 1 133 42 view .LVU165
 553 01f0 C3F85921 		str	r2, [r3, #345]	@ unaligned
 134:Core/APP/Chassis/chassis.c ****     obj->rf->enable = MOTOR_ENABLE;
 554              		.loc 1 134 5 is_stmt 1 view .LVU166
 555              		.loc 1 134 8 is_stmt 0 view .LVU167
 556 01f4 AB68     		ldr	r3, [r5, #8]	@ unaligned
 557              		.loc 1 134 21 view .LVU168
 558 01f6 83F8C870 		strb	r7, [r3, #200]
 135:Core/APP/Chassis/chassis.c ****     obj->rf->motor_controller->ref_speed = -set_speedR;
 559              		.loc 1 135 5 is_stmt 1 view .LVU169
 560              		.loc 1 135 8 is_stmt 0 view .LVU170
 561 01fa AB68     		ldr	r3, [r5, #8]	@ unaligned
 562              		.loc 1 135 12 view .LVU171
 563 01fc D3F8E430 		ldr	r3, [r3, #228]
 564              		.loc 1 135 42 view .LVU172
 565 0200 144A     		ldr	r2, .L24+16
 566 0202 C3F85921 		str	r2, [r3, #345]	@ unaligned
 136:Core/APP/Chassis/chassis.c ****     obj->rb->enable = MOTOR_ENABLE;
 567              		.loc 1 136 5 is_stmt 1 view .LVU173
 568              		.loc 1 136 8 is_stmt 0 view .LVU174
 569 0206 2B69     		ldr	r3, [r5, #16]	@ unaligned
 570              		.loc 1 136 21 view .LVU175
 571 0208 83F8C870 		strb	r7, [r3, #200]
 137:Core/APP/Chassis/chassis.c ****     obj->rb->motor_controller->ref_speed = -set_speedR;
 572              		.loc 1 137 5 is_stmt 1 view .LVU176
 573              		.loc 1 137 8 is_stmt 0 view .LVU177
 574 020c 2B69     		ldr	r3, [r5, #16]	@ unaligned
 575              		.loc 1 137 12 view .LVU178
 576 020e D3F8E430 		ldr	r3, [r3, #228]
 577              		.loc 1 137 42 view .LVU179
 578 0212 C3F85921 		str	r2, [r3, #345]	@ unaligned
 138:Core/APP/Chassis/chassis.c **** 
 139:Core/APP/Chassis/chassis.c ****     //æ ¹æ®å®žé™…é€Ÿåº¦åè§£
 140:Core/APP/Chassis/chassis.c ****     float Vcx1;
 579              		.loc 1 140 5 is_stmt 1 view .LVU180
 141:Core/APP/Chassis/chassis.c ****     float Wc1;
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 14


 580              		.loc 1 141 5 view .LVU181
 142:Core/APP/Chassis/chassis.c ****     float left_wheel_speed = obj->lb->fdbSpeed/19.0f/9.55f;//rpmè½¬æ¢å•ä½è‡³rad/s
 581              		.loc 1 142 5 view .LVU182
 582              	.LVL37:
 143:Core/APP/Chassis/chassis.c ****     float right_wheel_speed = obj->rb->fdbSpeed/19.0f/9.55f;//æ­¤å¤„å°†å‰åŽè½®è§†ä½œç›¸ç­‰ï¼ŒåŽç
 583              		.loc 1 143 5 view .LVU183
 144:Core/APP/Chassis/chassis.c ****     float vL = left_wheel_speed * r;
 584              		.loc 1 144 5 view .LVU184
 145:Core/APP/Chassis/chassis.c ****     float vR = right_wheel_speed * r;
 585              		.loc 1 145 5 view .LVU185
 146:Core/APP/Chassis/chassis.c ****     Vcx1 = 0.5*vL + 0.5*vR; //rad/s-->m/s
 586              		.loc 1 146 5 view .LVU186
 147:Core/APP/Chassis/chassis.c ****     Wc1 = -vL/C+vR/C;
 587              		.loc 1 147 5 view .LVU187
 148:Core/APP/Chassis/chassis.c **** 
 149:Core/APP/Chassis/chassis.c ****     // æ³¨å†Œ pub/sub
 150:Core/APP/Chassis/chassis.c ****     s_chassis_cmd_pub      = register_pub(CHASSIS_CMD_TOPIC);
 588              		.loc 1 150 5 view .LVU188
 589              		.loc 1 150 30 is_stmt 0 view .LVU189
 590 0216 104C     		ldr	r4, .L24+20
 591 0218 2046     		mov	r0, r4
 592 021a FFF7FEFF 		bl	register_pub
 593              	.LVL38:
 594              		.loc 1 150 28 view .LVU190
 595 021e 0F4B     		ldr	r3, .L24+24
 596 0220 1860     		str	r0, [r3]
 151:Core/APP/Chassis/chassis.c ****     obj->chassis_cmd_suber = register_sub(CHASSIS_CMD_TOPIC, 1);
 597              		.loc 1 151 5 is_stmt 1 view .LVU191
 598              		.loc 1 151 30 is_stmt 0 view .LVU192
 599 0222 3946     		mov	r1, r7
 600 0224 2046     		mov	r0, r4
 601 0226 FFF7FEFF 		bl	register_sub
 602              	.LVL39:
 603              		.loc 1 151 28 view .LVU193
 604 022a A861     		str	r0, [r5, #24]	@ unaligned
 152:Core/APP/Chassis/chassis.c **** 
 153:Core/APP/Chassis/chassis.c ****     // æ³¨å†Œ UARTå›žè°ƒ
 154:Core/APP/Chassis/chassis.c ****     BSP_UART_RegisterRxCallback(UART_INDEX, Chassis_UARTRxCallback);
 605              		.loc 1 154 5 is_stmt 1 view .LVU194
 606 022c 0C49     		ldr	r1, .L24+28
 607 022e 3846     		mov	r0, r7
 608 0230 FFF7FEFF 		bl	BSP_UART_RegisterRxCallback
 609              	.LVL40:
 155:Core/APP/Chassis/chassis.c **** 
 156:Core/APP/Chassis/chassis.c ****     return obj;
 610              		.loc 1 156 5 view .LVU195
 157:Core/APP/Chassis/chassis.c **** }
 611              		.loc 1 157 1 is_stmt 0 view .LVU196
 612 0234 2846     		mov	r0, r5
 613 0236 0DF5C26D 		add	sp, sp, #1552
 614              	.LCFI10:
 615              		.cfi_def_cfa_offset 32
 616              		@ sp needed
 617 023a BDEC028B 		vldm	sp!, {d8}
 618              	.LCFI11:
 619              		.cfi_restore 80
 620              		.cfi_restore 81
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 15


 621              		.cfi_def_cfa_offset 24
 622 023e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 623              	.LVL41:
 624              	.L25:
 625              		.loc 1 157 1 view .LVU197
 626 0242 00BF     		.align	2
 627              	.L24:
 628 0244 00000000 		.word	chassis_super_cap_lost
 629 0248 00000000 		.word	0
 630 024c 00606A46 		.word	1181376512
 631 0250 00007A43 		.word	1132068864
 632 0254 008009C4 		.word	-1006010368
 633 0258 00000000 		.word	.LC3
 634 025c 00000000 		.word	.LANCHOR0
 635 0260 00000000 		.word	Chassis_UARTRxCallback
 636 0264 00000000 		.word	chassis_motor_lost
 637              		.cfi_endproc
 638              	.LFE173:
 640              		.section	.text.Chassis_Update,"ax",%progbits
 641              		.align	1
 642              		.global	Chassis_Update
 643              		.syntax unified
 644              		.thumb
 645              		.thumb_func
 647              	Chassis_Update:
 648              	.LVL42:
 649              	.LFB174:
 158:Core/APP/Chassis/chassis.c **** 
 159:Core/APP/Chassis/chassis.c **** void Chassis_Update(Chassis *obj)
 160:Core/APP/Chassis/chassis.c **** {
 650              		.loc 1 160 1 is_stmt 1 view -0
 651              		.cfi_startproc
 652              		@ args = 0, pretend = 0, frame = 8
 653              		@ frame_needed = 0, uses_anonymous_args = 0
 654              		.loc 1 160 1 is_stmt 0 view .LVU199
 655 0000 10B5     		push	{r4, lr}
 656              	.LCFI12:
 657              		.cfi_def_cfa_offset 8
 658              		.cfi_offset 4, -8
 659              		.cfi_offset 14, -4
 660 0002 82B0     		sub	sp, sp, #8
 661              	.LCFI13:
 662              		.cfi_def_cfa_offset 16
 663 0004 0446     		mov	r4, r0
 161:Core/APP/Chassis/chassis.c ****     // å†™è¿åŠ¨æŒ‡ä»¤
 162:Core/APP/Chassis/chassis.c ****     // publish_data chassis_data = obj->gimbal_cmd_sub->getdata(obj->chassis_cmd_sub);
 163:Core/APP/Chassis/chassis.c ****     // if (chassis_data.len == -1) return;  // cmdæœªå·¥ä½œ
 164:Core/APP/Chassis/chassis.c ****     // obj->cmd_data = (Cmd_chassis *)chassis_data.data;
 165:Core/APP/Chassis/chassis.c ****     // obj->chassis3508->enable = MOTOR_ENABLE;
 166:Core/APP/Chassis/chassis.c ****     // obj->chassis3508->motor_controller->ref_speed = obj->cmd_data->vx;
 167:Core/APP/Chassis/chassis.c **** 
 168:Core/APP/Chassis/chassis.c ****     publish_data cmd_pd = obj->chassis_cmd_suber->getdata(obj->chassis_cmd_suber);
 664              		.loc 1 168 5 is_stmt 1 view .LVU200
 665              		.loc 1 168 30 is_stmt 0 view .LVU201
 666 0006 8169     		ldr	r1, [r0, #24]	@ unaligned
 667              		.loc 1 168 49 view .LVU202
 668 0008 8B68     		ldr	r3, [r1, #8]	@ unaligned
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 16


 669              		.loc 1 168 27 view .LVU203
 670 000a 6846     		mov	r0, sp
 671              	.LVL43:
 672              		.loc 1 168 27 view .LVU204
 673 000c 9847     		blx	r3
 674              	.LVL44:
 169:Core/APP/Chassis/chassis.c ****     if (cmd_pd.len == sizeof(Cmd_chassis)) {
 675              		.loc 1 169 5 is_stmt 1 view .LVU205
 676              		.loc 1 169 15 is_stmt 0 view .LVU206
 677 000e 019B     		ldr	r3, [sp, #4]
 678              		.loc 1 169 8 view .LVU207
 679 0010 092B     		cmp	r3, #9
 680 0012 45D0     		beq	.L29
 681              	.L27:
 170:Core/APP/Chassis/chassis.c ****         obj->cmd_data = (Cmd_chassis *)cmd_pd.data;
 171:Core/APP/Chassis/chassis.c ****     }
 172:Core/APP/Chassis/chassis.c **** 
 173:Core/APP/Chassis/chassis.c ****     float set_speedL;
 682              		.loc 1 173 5 is_stmt 1 view .LVU208
 174:Core/APP/Chassis/chassis.c ****     float set_speedR;
 683              		.loc 1 174 5 view .LVU209
 175:Core/APP/Chassis/chassis.c ****     float Vcx = obj->cmd_data->vx;
 684              		.loc 1 175 5 view .LVU210
 685              		.loc 1 175 20 is_stmt 0 view .LVU211
 686 0014 6369     		ldr	r3, [r4, #20]	@ unaligned
 687              		.loc 1 175 11 view .LVU212
 688 0016 D3F80120 		ldr	r2, [r3, #1]	@ unaligned
 689 001a 07EE902A 		vmov	s15, r2	@ int
 690              	.LVL45:
 176:Core/APP/Chassis/chassis.c ****     float Wc = obj->cmd_data->wz;
 691              		.loc 1 176 5 is_stmt 1 view .LVU213
 692              		.loc 1 176 11 is_stmt 0 view .LVU214
 693 001e D3F80530 		ldr	r3, [r3, #5]	@ unaligned
 694 0022 07EE103A 		vmov	s14, r3	@ int
 695              	.LVL46:
 177:Core/APP/Chassis/chassis.c ****     float C = 0.5;
 696              		.loc 1 177 5 is_stmt 1 view .LVU215
 178:Core/APP/Chassis/chassis.c ****     float r = 0.1;
 697              		.loc 1 178 5 view .LVU216
 179:Core/APP/Chassis/chassis.c ****     set_speedL= (2*Vcx-Wc*C)/(2*r);//ref_speedå•ä½æ˜¯m/s
 698              		.loc 1 179 5 view .LVU217
 699              		.loc 1 179 19 is_stmt 0 view .LVU218
 700 0026 77EEA77A 		vadd.f32	s15, s15, s15
 701              	.LVL47:
 702              		.loc 1 179 26 view .LVU219
 703 002a F6EE006A 		vmov.f32	s13, #5.0e-1
 704 002e 27EE267A 		vmul.f32	s14, s14, s13
 705              	.LVL48:
 706              		.loc 1 179 23 view .LVU220
 707 0032 77EEC75A 		vsub.f32	s11, s15, s14
 708              		.loc 1 179 15 view .LVU221
 709 0036 9FED1C6A 		vldr.32	s12, .L30
 710 003a C5EE866A 		vdiv.f32	s13, s11, s12
 711              	.LVL49:
 180:Core/APP/Chassis/chassis.c ****     set_speedR= (2*Vcx+Wc*C)/(2*r);
 712              		.loc 1 180 5 is_stmt 1 view .LVU222
 713              		.loc 1 180 23 is_stmt 0 view .LVU223
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 17


 714 003e 77EE877A 		vadd.f32	s15, s15, s14
 715              		.loc 1 180 15 view .LVU224
 716 0042 87EE867A 		vdiv.f32	s14, s15, s12
 717              	.LVL50:
 181:Core/APP/Chassis/chassis.c **** 
 182:Core/APP/Chassis/chassis.c ****     // ä½¿èƒ½ç”µæœºå¹¶å†™å…¥ç›®æ ‡é€Ÿåº¦åˆ° motor_controller->ref_speed
 183:Core/APP/Chassis/chassis.c ****     obj->lf->enable = MOTOR_ENABLE;
 718              		.loc 1 183 5 is_stmt 1 view .LVU225
 719              		.loc 1 183 8 is_stmt 0 view .LVU226
 720 0046 6268     		ldr	r2, [r4, #4]	@ unaligned
 721              		.loc 1 183 21 view .LVU227
 722 0048 0123     		movs	r3, #1
 723 004a 82F8C830 		strb	r3, [r2, #200]
 184:Core/APP/Chassis/chassis.c ****     obj->lb->enable = MOTOR_ENABLE;
 724              		.loc 1 184 5 is_stmt 1 view .LVU228
 725              		.loc 1 184 8 is_stmt 0 view .LVU229
 726 004e E268     		ldr	r2, [r4, #12]	@ unaligned
 727              		.loc 1 184 21 view .LVU230
 728 0050 82F8C830 		strb	r3, [r2, #200]
 185:Core/APP/Chassis/chassis.c ****     obj->rf->enable = MOTOR_ENABLE;
 729              		.loc 1 185 5 is_stmt 1 view .LVU231
 730              		.loc 1 185 8 is_stmt 0 view .LVU232
 731 0054 A268     		ldr	r2, [r4, #8]	@ unaligned
 732              		.loc 1 185 21 view .LVU233
 733 0056 82F8C830 		strb	r3, [r2, #200]
 186:Core/APP/Chassis/chassis.c ****     obj->rb->enable = MOTOR_ENABLE;
 734              		.loc 1 186 5 is_stmt 1 view .LVU234
 735              		.loc 1 186 8 is_stmt 0 view .LVU235
 736 005a 2269     		ldr	r2, [r4, #16]	@ unaligned
 737              		.loc 1 186 21 view .LVU236
 738 005c 82F8C830 		strb	r3, [r2, #200]
 187:Core/APP/Chassis/chassis.c **** 
 188:Core/APP/Chassis/chassis.c ****     obj->lf->motor_controller->ref_speed =  set_speedL;
 739              		.loc 1 188 5 is_stmt 1 view .LVU237
 740              		.loc 1 188 8 is_stmt 0 view .LVU238
 741 0060 6368     		ldr	r3, [r4, #4]	@ unaligned
 742              		.loc 1 188 12 view .LVU239
 743 0062 D3F8E430 		ldr	r3, [r3, #228]
 744              		.loc 1 188 42 view .LVU240
 745 0066 16EE902A 		vmov	r2, s13
 746 006a C3F85921 		str	r2, [r3, #345]	@ unaligned
 189:Core/APP/Chassis/chassis.c ****     obj->lb->motor_controller->ref_speed =  set_speedL;
 747              		.loc 1 189 5 is_stmt 1 view .LVU241
 748              		.loc 1 189 8 is_stmt 0 view .LVU242
 749 006e E368     		ldr	r3, [r4, #12]	@ unaligned
 750              		.loc 1 189 12 view .LVU243
 751 0070 D3F8E420 		ldr	r2, [r3, #228]
 752              		.loc 1 189 42 view .LVU244
 753 0074 16EE903A 		vmov	r3, s13
 754 0078 C2F85931 		str	r3, [r2, #345]	@ unaligned
 190:Core/APP/Chassis/chassis.c ****     obj->rf->motor_controller->ref_speed = -set_speedR;  // å³ä¾§ç”µæœºåå‘
 755              		.loc 1 190 5 is_stmt 1 view .LVU245
 756              		.loc 1 190 8 is_stmt 0 view .LVU246
 757 007c A368     		ldr	r3, [r4, #8]	@ unaligned
 758              		.loc 1 190 12 view .LVU247
 759 007e D3F8E430 		ldr	r3, [r3, #228]
 760              		.loc 1 190 44 view .LVU248
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 18


 761 0082 F1EE477A 		vneg.f32	s15, s14
 762              		.loc 1 190 42 view .LVU249
 763 0086 17EE902A 		vmov	r2, s15
 764 008a C3F85921 		str	r2, [r3, #345]	@ unaligned
 191:Core/APP/Chassis/chassis.c ****     obj->rb->motor_controller->ref_speed = -set_speedR;
 765              		.loc 1 191 5 is_stmt 1 view .LVU250
 766              		.loc 1 191 8 is_stmt 0 view .LVU251
 767 008e 2369     		ldr	r3, [r4, #16]	@ unaligned
 768              		.loc 1 191 12 view .LVU252
 769 0090 D3F8E420 		ldr	r2, [r3, #228]
 770              		.loc 1 191 42 view .LVU253
 771 0094 17EE903A 		vmov	r3, s15
 772 0098 C2F85931 		str	r3, [r2, #345]	@ unaligned
 192:Core/APP/Chassis/chassis.c **** }
 773              		.loc 1 192 1 view .LVU254
 774 009c 02B0     		add	sp, sp, #8
 775              	.LCFI14:
 776              		.cfi_remember_state
 777              		.cfi_def_cfa_offset 8
 778              		@ sp needed
 779 009e 10BD     		pop	{r4, pc}
 780              	.LVL51:
 781              	.L29:
 782              	.LCFI15:
 783              		.cfi_restore_state
 170:Core/APP/Chassis/chassis.c ****     }
 784              		.loc 1 170 9 is_stmt 1 view .LVU255
 170:Core/APP/Chassis/chassis.c ****     }
 785              		.loc 1 170 46 is_stmt 0 view .LVU256
 786 00a0 009B     		ldr	r3, [sp]
 170:Core/APP/Chassis/chassis.c ****     }
 787              		.loc 1 170 23 view .LVU257
 788 00a2 6361     		str	r3, [r4, #20]	@ unaligned
 789 00a4 B6E7     		b	.L27
 790              	.L31:
 791 00a6 00BF     		.align	2
 792              	.L30:
 793 00a8 CDCC4C3E 		.word	1045220557
 794              		.cfi_endproc
 795              	.LFE174:
 797              		.section	.bss.s_chassis_cmd_pub,"aw",%nobits
 798              		.align	2
 799              		.set	.LANCHOR0,. + 0
 802              	s_chassis_cmd_pub:
 803 0000 00000000 		.space	4
 804              		.text
 805              	.Letext0:
 806              		.file 2 "d:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_types.h"
 807              		.file 3 "d:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 808              		.file 4 "Core/HAL/monitor/monitor.h"
 809              		.file 5 "d:\\gcc-arm-none-eabi\\lib\\gcc\\arm-none-eabi\\10.3.1\\include\\stddef.h"
 810              		.file 6 "Core/HAL/lib/controller/pid.h"
 811              		.file 7 "Core/HAL/lib/controller/controller.h"
 812              		.file 8 "Core/HAL/lib/circular_queue.h"
 813              		.file 9 "Core/HAL/driver/motor/can_motor.h"
 814              		.file 10 "Core/HAL/pub_sub.h"
 815              		.file 11 "Core/APP/robot_def.h"
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 19


 816              		.file 12 "Core/HAL/driver/super_cap/super_cap_wuli.h"
 817              		.file 13 "Core/APP/Chassis/chassis.h"
 818              		.file 14 "d:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\stdlib.h"
 819              		.file 15 "<built-in>"
 820              		.file 16 "Core/BSP/interface/bsp_uart.h"
 821              		.file 17 "Core/BSP/lib/bsp_log.h"
ARM GAS  C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 chassis.c
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:20     .text.Chassis_UARTRxCallback:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:25     .text.Chassis_UARTRxCallback:00000000 Chassis_UARTRxCallback
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:100    .text.Chassis_UARTRxCallback:00000038 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:105    .rodata.chassis_motor_lost.str1.4:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:109    .text.chassis_motor_lost:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:115    .text.chassis_motor_lost:00000000 chassis_motor_lost
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:139    .text.chassis_motor_lost:0000000c $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:144    .rodata.chassis_super_cap_lost.str1.4:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:148    .text.chassis_super_cap_lost:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:154    .text.chassis_super_cap_lost:00000000 chassis_super_cap_lost
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:178    .text.chassis_super_cap_lost:0000000c $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:183    .rodata.chassis_imu_lost.str1.4:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:187    .text.chassis_imu_lost:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:193    .text.chassis_imu_lost:00000000 chassis_imu_lost
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:217    .text.chassis_imu_lost:0000000c $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:222    .rodata.Chassis_Create.str1.4:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:226    .text.Chassis_Create:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:232    .text.Chassis_Create:00000000 Chassis_Create
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:628    .text.Chassis_Create:00000244 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:641    .text.Chassis_Update:00000000 $t
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:647    .text.Chassis_Update:00000000 Chassis_Update
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:793    .text.Chassis_Update:000000a8 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:798    .bss.s_chassis_cmd_pub:00000000 $d
C:\Users\lenovo\AppData\Local\Temp\cc7ADQUh.s:802    .bss.s_chassis_cmd_pub:00000000 s_chassis_cmd_pub

UNDEFINED SYMBOLS
printf_log
malloc
memset
Super_cap_wuli_Create
CLASSIC_PID_Setconfig
memcpy
Can_Motor_Create
register_pub
register_sub
BSP_UART_RegisterRxCallback
